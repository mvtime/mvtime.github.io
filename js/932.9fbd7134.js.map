{"version":3,"file":"js/932.9fbd7134.js","mappings":"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","sources":["webpack://mvtime/./src/components/Portal/ExamCard.vue","webpack://mvtime/./src/components/Portal/ExamCard.vue?b3ef","webpack://mvtime/./src/views/Portal/ViewClass.vue","webpack://mvtime/./src/views/Portal/ViewClass.vue?81e5"],"sourcesContent":["<template>\n  <a class=\"task_card\" :style=\"{ '--color-calendar-task': task.color }\">\n    <div class=\"task_card_icon\" :title=\"task.class_name\">\n      <div class=\"task_card_icon_container\">\n        <div class=\"task_card_icon_container__img\"></div>\n      </div>\n    </div>\n    <div class=\"task_card_details\">\n      <div class=\"task_card_details__title\">{{ task.name }}</div>\n      <div class=\"task_card_details__extended\">\n        <span class=\"task_card_details__extended__date\">{{\n          task.date.toLocaleDateString(undefined, {\n            weekday: \"long\",\n            month: \"long\",\n            day: \"numeric\",\n          })\n        }}</span>\n        &nbsp;|&nbsp;\n        <span class=\"task_card_details__extended__type\">{{ type_full }}</span>\n      </div>\n    </div>\n  </a>\n</template>\n\n<script>\nexport default {\n  name: \"ExamCard\",\n  props: {\n    task: {\n      type: Object,\n      required: true,\n    },\n  },\n  computed: {\n    type_full() {\n      return this.$magic.type_full(this.task.type);\n    },\n  },\n};\n</script>\n\n<style>\n.task_card {\n  display: flex;\n  flex-flow: row nowrap;\n  justify-content: stretch;\n  align-items: stretch;\n  height: var(--height-task-card);\n  margin: 10px 0;\n  color: inherit !important;\n}\n.task_card,\n.task_card * {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.task_card_icon {\n  height: 100%;\n  width: var(--height-task-card);\n  border-radius: 30%;\n  border: solid 2px var(--color-calendar-task);\n  box-sizing: border-box;\n  filter: var(--filter-calendar-task);\n  overflow: hidden;\n  flex-shrink: 0;\n  /* box-shadow: 0px 4px 4px var(--color-calendar-task); */\n  /* box-shadow: 0px 0px 4px var(--color-calendar-task); */\n}\n.task_card_icon_container {\n  height: 100%;\n  width: 100%;\n  filter: var(--filter-task-card-icon);\n  background-color: var(--color-task-card-icon);\n}\n.task_card_icon_container__img {\n  background-image: url(@/assets/img/general/portal/exam/test-icon.png);\n  background-image: url(@/assets/img/general/portal/exam/test-icon.svg);\n  background-repeat: no-repeat;\n  background-size: contain;\n  background-position: center center;\n  padding: var(--padding-task-card-icon);\n  filter: var(--filter-icon);\n  height: 100%;\n  width: 100%;\n}\n.task_card_details {\n  padding-left: 20px;\n  flex-grow: 1;\n  /* layout */\n  display: flex;\n  flex-flow: column nowrap;\n  align-items: stretch;\n  justify-content: space-evenly;\n}\n/* details */\n.task_card_details > * {\n  white-space: nowrap;\n  overflow: hidden;\n  max-width: 100%;\n  text-overflow: ellipsis;\n}\n.task_card_details__title {\n  font-size: 14px;\n  font-weight: 500;\n}\n.task_card_details__extended {\n  opacity: 0.5;\n  font-size: 12px;\n  font-weight: 400;\n  /* layout */\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: center;\n  justify-content: flex-start;\n}\n.task_card_details__extended__date {\n  flex: auto 0 1;\n}\n.task_card_details__extended__type {\n  flex: 0px 1 1;\n}\n</style>\n","import { render } from \"./ExamCard.vue?vue&type=template&id=0c3a71cf\"\nimport script from \"./ExamCard.vue?vue&type=script&lang=js\"\nexport * from \"./ExamCard.vue?vue&type=script&lang=js\"\n\nimport \"./ExamCard.vue?vue&type=style&index=0&id=0c3a71cf&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <main class=\"viewclass\">\n    <header class=\"modal_header\" ref=\"title\">\n      <h2 class=\"header_style modal_header_title\">View class details</h2>\n    </header>\n    <div ref=\"contents\" class=\"overlay_contents\">\n      <div v-if=\"ready\" ref=\"text_contents\">\n        <div class=\"spaced_contents\">\n          <div class=\"styled_obj\">\n            <span class=\"styled_line__label\">Class:</span>\n            <span class=\"styled_line__separator\"></span>\n            <span class=\"styled_line__value\">\n              <a\n                class=\"class_name button_pointer_text\"\n                :href=\"`/view/${this.$route.params.ref}`\"\n                @click=\"$event.preventDefault()\"\n                :style=\"{\n                  '--color-class': class_obj.color,\n                  '--color-class-alt': class_obj.color + '2d',\n                }\"\n              >\n                {{ $store.class_text(class_obj) }}\n              </a>\n            </span>\n          </div>\n          <div class=\"styled_obj\" v-if=\"class_obj.period || class_obj.period == 0\">\n            <span class=\"styled_line__label\">Period:</span>\n            <span class=\"styled_line__separator\"></span>\n            <span class=\"styled_line__value\"> {{ class_obj.period }} (Schedules {{ schedules[class_obj.period % 2].join(\", \") }})</span>\n          </div>\n          <div class=\"styled_obj\">\n            <span class=\"styled_line__label\">Name:</span>\n            <span class=\"styled_line__separator\"></span>\n            <span class=\"styled_line__value\"> {{ class_obj.name }}</span>\n          </div>\n          <div class=\"styled_obj\">\n            <span class=\"styled_line__label\">Description:</span>\n            <span class=\"styled_line__separator\"></span>\n            <span class=\"styled_line__value\" v-html=\"text || 'Not Provided'\"> </span>\n          </div>\n          <div class=\"styled_obj upcoming_section\" ref=\"upcoming\">\n            <span class=\"styled_line__label\">Upcoming:</span>\n            <span class=\"styled_line__separator\"></span>\n            <span\n              @click=\"get_upcoming\"\n              class=\"styled_line__value alt_bg\"\n              :class=\"{\n                loading_clickable: !upcoming && !loading_upcoming,\n                loading_bg: loading_upcoming,\n              }\"\n            >\n              <span v-if=\"!upcoming && !loading_upcoming\" class=\"load_text\">Click to Load</span>\n              <div v-else-if=\"!loading_upcoming\" class=\"upcoming_tasks_container\">\n                <div v-if=\"loading_upcoming\" class=\"upcoming_tasks_loading\">\n                  <img alt=\"Loading Icon\" class=\"loading_icon\" src=\"/assets/loading.svg\" />\n                </div>\n                <div v-else-if=\"upcoming && upcoming.length\" class=\"upcoming_tasks\">\n                  <ExamCard\n                    class=\"upcoming_tasks__task\"\n                    v-for=\"task in upcoming\"\n                    :task=\"task\"\n                    :key=\"task.name\"\n                    :href=\"`/view/${task.ref}`\"\n                    @click=\"\n                      $event.preventDefault();\n                      show_task(task.ref);\n                    \"\n                  ></ExamCard>\n                </div>\n                <span v-else>No upcoming tasks</span>\n              </div>\n            </span>\n          </div>\n        </div>\n        <div class=\"overlay_contents_text\">Information is provided by teachers and volunteer students, and may not always be correct</div>\n      </div>\n      <img ref=\"loading_contents\" alt=\"Loading Icon\" class=\"loading_icon\" v-else />\n    </div>\n    <div class=\"bottom_actions\">\n      <button class=\"close_action click_escape\" @click=\"$emit('close')\">Close</button>\n      <div class=\"flex_spacer\"></div>\n      <button class=\"share_action primary_styled\" @click=\"share_class\" :disabled=\"!ready\">Share</button>\n      <button class=\"edit_action primary_styled\" v-if=\"editable\" :disabled=\"!ready\" @click=\"edit_class\">Edit</button>\n      <button\n        class=\"join_leave_action primary_styled\"\n        v-else-if=\"$store.user && class_obj\"\n        :disabled=\"!ready\"\n        :class=\"{ click_escape: joinable }\"\n        @click=\"\n          if (joinable) {\n            join_class();\n          } else {\n            leave_class();\n          }\n        \"\n      >\n        {{ joinable ? \"Join\" : \"Leave\" }}\n      </button>\n    </div>\n  </main>\n</template>\n<script>\n/**\n * Displays the details of a class and allows the teacher to edit it, or any user to share it\n *\n * @module ViewClassView\n * @description Modal that displays the details of a class and allows the teacher to edit it.\n * @requires module:store/MainStore\n * @emits {Function} close - An event emitted when the modal is closed.\n */\n\nimport { WarningToast, ErrorToast, SuccessToast } from \"@svonk/util\";\nimport smoothReflow from \"vue-smooth-reflow\";\nimport showdown from \"showdown\";\nimport \"@/assets/style/markdown.css\";\nimport ExamCard from \"@/components/Portal/ExamCard.vue\";\nlet converter = new showdown.Converter();\nexport default {\n  name: \"ViewClassView\",\n  emits: [\"close\"],\n  mixins: [smoothReflow],\n  components: { ExamCard },\n  data() {\n    return {\n      class_obj: null,\n      ready: false,\n      loading_upcoming: false,\n      upcoming: null,\n      schedules: [\n        [\"A\", \"G\", \"C\", \"D\", \"and H\"],\n        [\"A\", \"G\", \"B\", \"E\", \"and I\"],\n      ],\n    };\n  },\n  computed: {\n    text() {\n      return this.class_obj?.description && converter.makeHtml(this.class_obj?.description);\n    },\n    joinable() {\n      return (\n        this.$store.user &&\n        this.class_obj &&\n        // and not already joined\n        !this.$store?.active_doc?.classes?.includes(this.$store.ref_to_path(this.$route.params.ref))\n      );\n    },\n    editable() {\n      return (\n        this.$store.is_teacher &&\n        this.$store.user &&\n        this.class_obj &&\n        this.$route.params.ref &&\n        this.$route.params.ref.split(\"~\")[0] == this.$store.active_doc.email.replace(this.$store.ORG_DOMAIN, \"\")\n      );\n    },\n  },\n  mounted() {\n    this.$smoothReflow({\n      el: this.$refs.contents,\n      hideOverflow: false,\n      childTransitions: false,\n    });\n    this.$smoothReflow({\n      el: this.$refs.title,\n      hideOverflow: true,\n    });\n    this.get_class();\n  },\n  methods: {\n    /** Shares the class link with the native share function, or to the clipboard if sharing is not supported */\n    async share_class() {\n      let url = new URL(`https://${this.$env.VUE_APP_BRAND_DOMAIN__VIEWCLASS}/` + this.$route.params.ref);\n      if (navigator.share) {\n        navigator\n          .share({\n            title: this.class_obj.name,\n            text: `Check out ${this.class_obj.name || \"this class\"} on ${this.$env.VUE_APP_BRAND_NAME_SHORT}!`,\n            url: url.href,\n          })\n          .then(() => new SuccessToast(\"Opened share dialog\", 1000))\n          .catch((err) => this.$status.error(\"🔥 Error sharing\", err));\n      } else if (navigator.clipboard) {\n        navigator.clipboard.writeText(url.href);\n        new WarningToast(\"Sharing not supported, copied link to clipboard\", 2000);\n      } else {\n        new WarningToast(\"Sharing and copying not supported, sorry\", 2000);\n      }\n    },\n    edit_class() {\n      this.$router.push({\n        name: \"editclass\",\n        params: {\n          ref: this.$route?.params?.ref,\n        },\n        query: this.$route.query,\n      });\n    },\n    join_class() {\n      this.$router.push({\n        name: \"refclass\",\n        params: {\n          ref: this.$route?.params?.ref,\n        },\n        query: this.$route.query,\n      });\n    },\n    leave_class() {\n      this.$router.push({\n        name: \"leave\",\n        params: {\n          ref: this.$route?.params?.ref,\n        },\n        query: this.$route.query,\n      });\n    },\n    async get_upcoming() {\n      if (this.upcoming != null) {\n        return;\n      }\n      this.loading_upcoming = true;\n      this.$store\n        .upcoming_from_ref(this.$route.params.ref.split(\"~\").join(\"/\"), this.class_obj)\n        .then((upcoming) => {\n          this.upcoming = upcoming;\n          this.loading_upcoming = false;\n        })\n        .catch((err) => {\n          new WarningToast(\"Couldn't get upcoming tasks\", 2000);\n          this.$status.error(\"⚠ Couldn't get upcoming tasks\", err);\n          this.loading_upcoming = false;\n        });\n    },\n    async get_class() {\n      // get class ref from route params\n      if (!this.$route.params.ref) {\n        new WarningToast(\"No class specified\", 1500);\n        this.$emit(\"close\");\n        return;\n      }\n      const ref = this.$route.params.ref.split(\"~\").join(\"/\");\n      if (!ref) {\n        new WarningToast(\"No class specified\", 1500);\n        this.$emit(\"close\");\n        return;\n      } else if (ref.split(\"/\").length != 2) {\n        new WarningToast(\"Invalid class specified\", 1500);\n        this.$emit(\"close\");\n        return;\n      }\n      // get class from store\n      this.$store\n        .class_from_ref(ref)\n        .then((class_obj) => {\n          if (!class_obj) {\n            new WarningToast(\"Couldn't find that class\", 2000);\n            this.$emit(\"close\");\n          } else {\n            this.class_obj = class_obj;\n            this.ready = true;\n          }\n        })\n        .catch((err) => {\n          new ErrorToast(\"Error getting class\", err, 1500);\n          this.$status.error(\"⚠ Error getting class\", err);\n          this.$emit(\"close\");\n        });\n    },\n    show_task(ref) {\n      this.$router.push({\n        name: \"viewtask\",\n        params: {\n          ref: ref,\n        },\n        query: this.$route.query,\n      });\n    },\n  },\n};\n</script>\n<style scoped>\n.spaced_contents {\n  margin-top: 0;\n}\n.loading_icon {\n  max-height: 150px;\n  min-width: 100%;\n}\n.class_name {\n  line-height: 1em;\n  cursor: default;\n}\n.upcoming_tasks {\n  display: flex;\n  flex-direction: column;\n  gap: calc(var(--padding-overlay-input) / 1.5);\n}\n.upcoming_tasks__task {\n  cursor: pointer;\n  user-select: none;\n  margin: 0;\n}\n/* style upcoming */\n.upcoming_section .loading_clickable {\n  cursor: pointer;\n  text-align: center;\n  user-select: none;\n  transition: letter-spacing 0.15s ease-out;\n}\n.upcoming_section .loading_clickable:hover {\n  letter-spacing: 0.04em;\n}\n.upcoming_section .loading_bg {\n  height: calc(50px + 2 * var(--padding-overlay-input));\n}\n.upcoming_section {\n  padding: 0;\n}\n.upcoming_section > .styled_line__label,\n.upcoming_section > .styled_line__value {\n  padding: calc((var(--height-overlay-input) - 18px) / 2) var(--padding-overlay-input);\n  display: block;\n  box-sizing: content-box;\n}\n.upcoming_section > .styled_line__label {\n  padding-right: 0;\n}\n.upcoming_section > .styled_line__value {\n  width: 0;\n  flex-grow: 1;\n  padding-left: 0;\n}\n.upcoming_section > .styled_line__separator {\n  height: calc(100% - (var(--height-overlay-input) - 18px) + 5px);\n}\n</style>\n","import { render } from \"./ViewClass.vue?vue&type=template&id=94ae3ae4&scoped=true\"\nimport script from \"./ViewClass.vue?vue&type=script&lang=js\"\nexport * from \"./ViewClass.vue?vue&type=script&lang=js\"\n\nimport \"./ViewClass.vue?vue&type=style&index=0&id=94ae3ae4&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-94ae3ae4\"]])\n\nexport default __exports__"],"names":["_createElementVNode","class","_hoisted_2","_createElementBlock","style","_normalizeStyle","$props","task","color","title","class_name","_hoisted_3","_hoisted_1","_hoisted_4","_hoisted_5","_toDisplayString","name","_hoisted_6","_hoisted_7","date","toLocaleDateString","undefined","_createTextVNode","_hoisted_8","$options","type_full","props","type","Object","required","computed","this","$magic","__exports__","render","ref","key","alt","src","_hoisted_31","$data","ready","_hoisted_9","_hoisted_10","_hoisted_11","href","$route","params","onClick","_cache","$event","preventDefault","class_obj","_ctx","$store","class_text","_hoisted_12","period","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","schedules","join","_createCommentVNode","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","innerHTML","text","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","args","get_upcoming","_normalizeClass","upcoming","loading_upcoming","_hoisted_29","_hoisted_30","_hoisted_32","length","_hoisted_33","_Fragment","_renderList","_createBlock","_component_ExamCard","show_task","_hoisted_34","_hoisted_28","_hoisted_35","_hoisted_36","_hoisted_37","$emit","_hoisted_38","share_class","disabled","_hoisted_39","editable","edit_class","_hoisted_40","user","click_escape","joinable","join_class","leave_class","_hoisted_41","converter","showdown","emits","mixins","smoothReflow","components","ExamCard","data","description","makeHtml","active_doc","classes","includes","ref_to_path","is_teacher","split","email","replace","ORG_DOMAIN","mounted","$smoothReflow","el","$refs","contents","hideOverflow","childTransitions","get_class","methods","url","URL","$env","VUE_APP_BRAND_DOMAIN__VIEWCLASS","navigator","share","VUE_APP_BRAND_NAME_SHORT","then","SuccessToast","catch","err","$status","error","clipboard","writeText","WarningToast","$router","push","query","upcoming_from_ref","class_from_ref","ErrorToast"],"sourceRoot":""}