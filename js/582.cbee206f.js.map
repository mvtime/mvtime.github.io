{"version":3,"file":"js/582.cbee206f.js","mappings":"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","sources":["webpack://mvtime/./src/views/Portal/LeaveClass.vue","webpack://mvtime/./src/views/Portal/LeaveClass.vue?cd0b"],"sourcesContent":["<template>\n  <div class=\"leave_class\">\n    <header class=\"modal_header\">\n      <h2 class=\"header_style modal_header_title\">Confirm class leave</h2>\n    </header>\n    <div class=\"overlay_contents overlay_contents_text\" ref=\"contents\">\n      Are you sure you want to leave\n      <a\n        class=\"class_name button_pointer_text\"\n        :href=\"`/view/${$route.params.ref}`\"\n        @click=\"\n          $event.preventDefault();\n          $router.push({\n            name: 'viewclass',\n            params: { ref: $route.params.ref },\n            query: $route.query,\n          });\n        \"\n        :style=\"{\n          '--color-class': class_obj.color,\n          '--color-class-alt': class_obj.color + '2d',\n        }\"\n        >{{ $store.class_text(class_obj) }}</a\n      >? <br /><br />\n      You'll need to use the\n      <span class=\"button_pointer_text\">Join Class</span> button in the left sidebar to join it\n      again.\n    </div>\n    <div class=\"bottom_actions\">\n      <button class=\"close_action click_escape\" @click=\"$emit('close')\">\n        {{ ready ? \"Cancel\" : \"Close\" }}\n      </button>\n      <div class=\"flex_spacer\"></div>\n      <button\n        class=\"leave_class click_ctrlenter\"\n        :class=\"{ loading_bg: loading }\"\n        @click=\"leave_class\"\n        :disabled=\"!ready\"\n      >\n        Leave\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\n/**\n * @file LeaveClass.vue\n * @description Class leave modal that appears when a user tries to leave a class\n * @module views/Portal/LeaveClass\n */\nimport smoothReflow from \"vue-smooth-reflow\";\nimport { WarningToast } from \"@svonk/util\";\nexport default {\n  name: \"LeaveClass\",\n  emits: [\"close\", \"clear_filters\"],\n  mixins: [smoothReflow],\n  data() {\n    return {\n      ready: false,\n      loading: false,\n      ref: this.$route?.params?.ref,\n      class_obj: {},\n    };\n  },\n  computed: {},\n  mounted() {\n    this.$smoothReflow({\n      el: this.$refs.contents,\n      hideOverflow: true,\n      childTransitions: true,\n    });\n    if (!this.ref) {\n      new WarningToast(\"There was no class provided\", 2000);\n      this.$emit(\"close\");\n    } else {\n      let [_email, _id] = this.ref.split(\"~\");\n      _email += this.$store.ORG_DOMAIN;\n      this.ref = [_email, _id].join(\"/\");\n      if (this.ref.split(\"/\").length !== 2) {\n        new WarningToast(\"Couldn't find that class\", 2000);\n        this.$emit(\"close\");\n      } else {\n        let classes = this.$store?.classes;\n        if (!classes || !this.ref) this.class_obj = {};\n        this.class_obj = classes.find((class_obj) => class_obj.id === this.ref) || {};\n        this.ready = true;\n      }\n    }\n  },\n  methods: {\n    leave_class() {\n      this.loading = true;\n      this.$store\n        .remove_class(this.class_obj.id)\n        .then(() => {\n          this.$emit(\"clear_filters\");\n          this.$emit(\"close\");\n        })\n        .catch(() => {\n          this.loading = false;\n        });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.loading_icon {\n  max-height: 150px;\n  min-width: 100%;\n}\n</style>\n","import { render } from \"./LeaveClass.vue?vue&type=template&id=27caa37e&scoped=true\"\nimport script from \"./LeaveClass.vue?vue&type=script&lang=js\"\nexport * from \"./LeaveClass.vue?vue&type=script&lang=js\"\n\nimport \"./LeaveClass.vue?vue&type=style&index=0&id=27caa37e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-27caa37e\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","ref","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_createTextVNode","href","_ctx","$route","params","onClick","_cache","$event","preventDefault","$router","push","query","style","_normalizeStyle","$data","class_obj","color","$store","class_text","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","$emit","ready","_hoisted_9","_normalizeClass","loading_bg","loading","args","$options","leave_class","disabled","_hoisted_10","name","emits","mixins","smoothReflow","data","this","computed","mounted","$smoothReflow","el","$refs","contents","hideOverflow","childTransitions","_email","_id","split","ORG_DOMAIN","join","length","WarningToast","classes","find","id","methods","remove_class","then","catch","__exports__","render"],"sourceRoot":""}