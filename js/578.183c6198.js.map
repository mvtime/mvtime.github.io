{"version":3,"file":"js/578.183c6198.js","mappings":"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","sources":["webpack://mvtime/./src/components/Modal/ModalFromPages.vue","webpack://mvtime/./src/components/Modal/ModalFromPages.vue?d9c6","webpack://mvtime/./src/views/Home/LinkModal.vue","webpack://mvtime/./src/components/Modal/SignIntoPersonalAccount.vue","webpack://mvtime/./src/components/Modal/SignIntoPersonalAccount.vue?f57a","webpack://mvtime/./src/components/Modal/LinkAccount.vue","webpack://mvtime/./src/components/Modal/LinkAccount.vue?15c1","webpack://mvtime/./src/views/Home/LinkModal.vue?e441"],"sourcesContent":["<template>\n  <Modal\n    ref=\"modal\"\n    :title=\"page.title\"\n    :content=\"page.content\"\n    :html=\"page.content ? null : page.html\"\n    :is_notification=\"page.is_notification\"\n    :submit_text=\"page.submit_text\"\n    :progress=\"{ current: page_index + 1, total: pages.length }\"\n    :show_progress=\"true\"\n    :can_continue=\"can_continue\"\n    :continue_action=\"next_page\"\n    :load=\"load_data\"\n    :skippable=\"skippable\"\n    @open=\"switch_to\"\n    @update=\"curr_data = $event\"\n    @status=\"curr_done = $event\"\n    @skip=\"$emit('skip')\"\n  ></Modal>\n</template>\n\n<script>\n/**\n * @file ModalFromPages.vue\n * @displayName Modal from Pages\n * @description A modal view that displays a series of pages as a modal with progression.\n * @property {Array} pages - An array of page objects, each with a title (String) and content (Component) or html (String), and most importantly a @update and @status emit.\n * @emits {Array} finish - Emitted when the user has finished all pages, with an array of responses from each page.\n */\nfunction confirm_unfinished() {\n  // message irrelevant for most browsers, but nice to have\n  return \"You haven't finished the task yet, and might lose progress. Are you sure you want to close the tab?\";\n}\nimport ModalVue from \"./Modal.vue\";\nexport default {\n  name: \"ModalFromPages\",\n  emits: [\"finish\", \"skip\"],\n  components: {\n    Modal: ModalVue,\n  },\n  props: {\n    pages: {\n      type: Array,\n      required: true,\n    },\n    skippable: {\n      type: Boolean,\n      default: false,\n      required: false,\n    },\n  },\n  data() {\n    return {\n      page_index: 0,\n      responses: [],\n      curr_data: null,\n      curr_done: false,\n      page_start: Date.now(),\n      shortcuts: [\n        {\n          key: \"ArrowLeft\",\n          description: \"Go to the previous modal page\",\n        },\n        {\n          key: \"ArrowRight\",\n          description: \"Go to the next modal page\",\n        },\n      ],\n    };\n  },\n  computed: {\n    load_data() {\n      // return saved data, or empty object\n      this.set_done();\n      return this.responses[this.page_index]?.data || {};\n    },\n    page() {\n      if (this.pages.length == 0) {\n        return {\n          title: \"No pages provided\",\n          content: null,\n          html: null,\n          is_notification: true,\n          submit_text: \"Oops!\",\n        };\n      }\n      return this.pages[this.page_index];\n    },\n    can_continue() {\n      // either no content or has updated with @status of true\n      return !this.page.content || this.page.is_notification || this.curr_done;\n    },\n  },\n  mounted() {\n    window.addEventListener(\"keydown\", this.arrow);\n    this.$shortcuts.register_all(this.shortcuts, \"Modal\");\n  },\n  beforeUnmount() {\n    window.removeEventListener(\"keydown\", this.arrow);\n    this.$shortcuts.remove_tag(\"Modal\");\n  },\n  methods: {\n    set_done() {\n      this.curr_done = this.responses[this.page_index]?.done || false;\n    },\n    arrow(event) {\n      // catch arrow keys to switch pages\n      if (event.key == \"ArrowLeft\") {\n        this.switch_to(this.page_index - 1);\n      } else if (event.key == \"ArrowRight\") {\n        this.switch_to(this.page_index + 1);\n      }\n    },\n    switch_to(page_index) {\n      // switch to page at index, as long as it is before the current, or already completed\n      if (\n        page_index <= this.page_index ||\n        Object.prototype.hasOwnProperty.call(this.responses, Math.max(page_index - 1, 0))\n      ) {\n        this.page_index = page_index;\n      } else {\n        this.$status.log(`⏵ ModalFromPages: page index ${page_index} invalid`);\n      }\n    },\n    next_page() {\n      // get responses from current component and add to responses array\n      this.responses[this.page_index] = {\n        data: this.curr_data,\n        done: this.curr_done || !this.page.content || this.page.is_notification,\n        time: {\n          start: this.page_start,\n          duration: Date.now() - this.page_start,\n        },\n      };\n      if (this.can_continue && this.page_index < this.pages.length - 1) {\n        // add unload listener to prevent accidental closing if previous page is 1st\n        if (this.page_index == 0) {\n          window.onbeforeunload = confirm_unfinished;\n        }\n\n        // switch to next page\n        this.page_index++;\n      } else if (this.can_continue) {\n        // emit responses\n        this.$emit(\"finish\", this.responses);\n        // leave the rest up to the parent component\n      }\n    },\n  },\n  watch: {\n    page_index() {\n      // reset page details when changing pages\n      this.page_start = Date.now();\n      this.curr_data = this.load_data;\n      this.set_done();\n    },\n  },\n};\n</script>\n\n<style scoped></style>\n","import { render } from \"./ModalFromPages.vue?vue&type=template&id=a967f20c\"\nimport script from \"./ModalFromPages.vue?vue&type=script&lang=js\"\nexport * from \"./ModalFromPages.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <ModalFromPages\n    :pages=\"pages\"\n    @finish=\"finish\"\n    @skip=\"$emit('close')\"\n    ref=\"survey_modal\"\n  ></ModalFromPages>\n</template>\n\n<script>\n/* eslint-disable vue/no-unused-components */\nimport { shallowRef } from \"vue\";\nimport { WarningToast } from \"@svonk/util\";\nimport ModalFromPages from \"@/components/Modal/ModalFromPages.vue\";\nimport SignIntoPersonalAccount from \"@/components/Modal/SignIntoPersonalAccount.vue\";\nimport LinkAccount from \"@/components/Modal/LinkAccount.vue\";\nimport \"@/assets/style/overlay.css\";\nexport default {\n  name: \"LinkModal\",\n  emits: [\"close\"],\n  components: {\n    ModalFromPages,\n    SignIntoPersonalAccount,\n    LinkAccount,\n  },\n  data() {\n    return {\n      ready: false,\n      pages: [\n        {\n          title: \"Link Personal Account\",\n          html: `<div class='overlay_contents_text'>Thank you for taking the time to link your account. This will allow you to access your account from any device.<br/><br/> You'll need to be signed into your personal account in order to continue, we'll guide you through that on the next page.</div>`,\n          submit_text: \"Okay\",\n          is_notification: true,\n        },\n        {\n          title: \"Sign into Personal Account\",\n          content: shallowRef(SignIntoPersonalAccount),\n          submit_text: \"Continue\",\n        },\n        {\n          title: \"Account Details\",\n          content: shallowRef(LinkAccount),\n          submit_text: \"Link\",\n        },\n      ],\n    };\n  },\n  props: {\n    code: {\n      type: String,\n      default: \"\",\n    },\n  },\n  computed: {},\n  mounted() {\n    if (!this.code) {\n      new WarningToast(\"No code provided!\", \"You must provide a code to link your account.\");\n      this.$emit(\"close\");\n    } else {\n      this.ready = true;\n    }\n    this.$store.personal_account = true;\n    if (\n      this.$store?.linked_account_doc?.linked_to &&\n      this.$store.linked_account_doc.linked_to == this.code\n    ) {\n      this.$emit(\"close\");\n      new WarningToast(\"These two accounts are already linked!\", 2000);\n    }\n  },\n  methods: {\n    finish() {\n      this.$store.link_account_uid(this.code).then(() => {\n        this.$emit(\"close\");\n      });\n    },\n  },\n};\n</script>\n\n<style></style>\n","<template>\n  <div class=\"personal_prompt\">\n    <div class=\"overlay_contents_text\">\n      If you're signed into an {{ $store.ORG_DOMAIN.substring(1) }} account, you should have been\n      signed out automatically\n    </div>\n    <div class=\"inputs_row\">\n      <button class=\"primary_styled styled_input\" @click=\"sign_into_personal\" :disabled=\"ready\">\n        Login to Personal Account\n      </button>\n    </div>\n    <div class=\"overlay_contents_text\">Please sign into your personal account to continue</div>\n  </div>\n</template>\n\n<script>\nimport { WarningToast } from \"@svonk/util\";\nexport default {\n  name: \"SignIntoPersonalAccount\",\n  emits: [\"skip\", \"update\", \"status\"],\n  data() {\n    return {\n      ready: false,\n    };\n  },\n  methods: {\n    logout_if_org() {\n      // sign out\n      if (this.$store?.user?.email?.includes(this.$store.ORG_DOMAIN)) {\n        this.$store.logout();\n      }\n    },\n    check_and_emit() {\n      // if already linked, exit\n      if (\n        this.$store?.linked_account_doc?.linked_to &&\n        this.$route?.params?.code &&\n        this.$store.linked_account_doc.linked_to == this.$route.params.code\n      ) {\n        new WarningToast(\"These two accounts are already linked!\", 2000);\n        this.$emit(\"skip\");\n      } else {\n        // otherwise check status\n        this.ready =\n          this.$store.user?.email && !this.$store.user.email.includes(this.$store.ORG_DOMAIN);\n        this.$emit(\"status\", !!this.ready);\n      }\n    },\n    sign_into_personal() {\n      this.$store.personal_account = true;\n      this.$store\n        .login_personal()\n        .then(() => {\n          this.logout_if_org();\n          this.check_and_emit();\n        })\n        .catch(() => {\n          this.check_and_emit();\n        });\n    },\n  },\n  computed: {},\n  mounted() {\n    this.logout_if_org();\n    this.check_and_emit();\n  },\n  watch: {\n    $store: {\n      handler() {\n        this.logout_if_org();\n        this.check_and_emit();\n      },\n      deep: true,\n    },\n  },\n};\n</script>\n\n<style scoped>\n.login_button {\n  text-align: center;\n}\n</style>\n","import { render } from \"./SignIntoPersonalAccount.vue?vue&type=template&id=a628f40a&scoped=true\"\nimport script from \"./SignIntoPersonalAccount.vue?vue&type=script&lang=js\"\nexport * from \"./SignIntoPersonalAccount.vue?vue&type=script&lang=js\"\n\nimport \"./SignIntoPersonalAccount.vue?vue&type=style&index=0&id=a628f40a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-a628f40a\"]])\n\nexport default __exports__","<template>\n  <div class=\"account_linking\">\n    <img v-if=\"loading\" alt=\"Loading...\" class=\"loading_placeholder loading_icon\" />\n    <div v-else-if=\"data\" class=\"account_details\">\n      <div class=\"overlay_contents_text\">\n        Please confirm that the details below match the account you're trying to link to.\n      </div>\n      <div class=\"spaced_contents\">\n        <div class=\"styled_obj\">\n          <span class=\"styled_line__label\">Name:</span>\n          <span class=\"styled_line__separator\"></span>\n          <span class=\"styled_line__value\">{{ data.name || \"Couldn't Load\" }}</span>\n        </div>\n        <div class=\"styled_obj\">\n          <span class=\"styled_line__label\">Email:</span>\n          <span class=\"styled_line__separator\"></span>\n          <span class=\"styled_line__value\">{{ data.email || \"Couldn't Load\" }}</span>\n        </div>\n        <div class=\"styled_obj\">\n          <span class=\"styled_line__label\">Grade:</span>\n          <span class=\"styled_line__separator\"></span>\n          <span class=\"styled_line__value\">{{\n            gradeText(data.join_form && data.join_form.grade) || \"Couldn't Load\"\n          }}</span>\n        </div>\n      </div>\n      <div class=\"overlay_contents_text\">\n        Once you've checked them, just press <span class=\"button_pointer_text\">Link</span> to finish\n        connecting your accounts!\n      </div>\n    </div>\n    <div v-else class=\"overlay_contents_text\">\n      Something went wrong fetching the account details, please try again later.\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ErrorToast } from \"@svonk/util\";\nexport default {\n  name: \"LinkAccount\",\n  emits: [\"update\", \"status\"],\n  props: {\n    load: {\n      type: Object,\n      default: () => ({}),\n    },\n  },\n  data() {\n    return {\n      loading: true,\n      code: null,\n      data: null,\n    };\n  },\n  computed: {},\n  methods: {\n    gradeText(numeric) {\n      switch (numeric) {\n        case \"9\":\n          return \"Freshman\";\n        case \"10\":\n          return \"Sophomore\";\n        case \"11\":\n          return \"Junior\";\n        case \"12\":\n          return \"Senior\";\n        default:\n          return \"Teacher\";\n      }\n    },\n  },\n  mounted() {\n    // get code prop from route\n    this.code = this.$route.params.code;\n    this.$store\n      .doc_from_uid(this.code)\n      .then((result) => {\n        this.loading = false;\n        this.data = result;\n      })\n      .catch((err) => {\n        this.loading = false;\n        new ErrorToast(\"Failed to link account\", err, 3000);\n      });\n  },\n  watch: {\n    loading() {\n      this.$emit(\"status\", !this.loading);\n    },\n  },\n};\n</script>\n\n<style scoped>\ndiv.account_linking,\n.account_details {\n  display: flex;\n  flex-flow: column nowrap;\n}\n\n.loading_placeholder {\n  min-width: 100%;\n  max-height: 131px;\n}\n</style>\n","import { render } from \"./LinkAccount.vue?vue&type=template&id=1b938b9b&scoped=true\"\nimport script from \"./LinkAccount.vue?vue&type=script&lang=js\"\nexport * from \"./LinkAccount.vue?vue&type=script&lang=js\"\n\nimport \"./LinkAccount.vue?vue&type=style&index=0&id=1b938b9b&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1b938b9b\"]])\n\nexport default __exports__","import { render } from \"./LinkModal.vue?vue&type=template&id=2855101c\"\nimport script from \"./LinkModal.vue?vue&type=script&lang=js\"\nexport * from \"./LinkModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createBlock","_component_Modal","ref","title","$options","page","content","html","is_notification","submit_text","progress","current","$data","page_index","total","$props","pages","length","show_progress","can_continue","continue_action","next_page","load","load_data","skippable","onOpen","switch_to","onUpdate","_cache","$event","curr_data","onStatus","curr_done","onSkip","_ctx","$emit","confirm_unfinished","name","emits","components","Modal","ModalVue","props","type","Array","required","Boolean","default","data","responses","page_start","Date","now","shortcuts","key","description","computed","this","set_done","mounted","window","addEventListener","arrow","$shortcuts","register_all","beforeUnmount","removeEventListener","remove_tag","methods","done","event","Object","prototype","hasOwnProperty","call","Math","max","$status","log","time","start","duration","onbeforeunload","watch","__exports__","render","_component_ModalFromPages","onFinish","finish","class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_toDisplayString","$store","ORG_DOMAIN","substring","_hoisted_3","onClick","args","sign_into_personal","disabled","ready","_hoisted_4","_hoisted_5","logout_if_org","user","email","includes","logout","check_and_emit","linked_account_doc","linked_to","$route","params","code","WarningToast","personal_account","login_personal","then","catch","handler","deep","alt","_createTextVNode","loading","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","gradeText","join_form","grade","_hoisted_18","_hoisted_19","numeric","doc_from_uid","result","err","ErrorToast","ModalFromPages","SignIntoPersonalAccount","LinkAccount","shallowRef","String","link_account_uid"],"sourceRoot":""}