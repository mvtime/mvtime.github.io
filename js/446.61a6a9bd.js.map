{"version":3,"file":"js/446.61a6a9bd.js","mappings":"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","sources":["webpack://mvtime/./src/store/magic.js","webpack://mvtime/./src/components/Portal/ExamCard.vue","webpack://mvtime/./src/components/Portal/ExamCard.vue?b3ef","webpack://mvtime/./src/views/Portal/Portal.vue","webpack://mvtime/./src/components/Portal/LeftBar.vue","webpack://mvtime/./src/components/Portal/SidebarToggle.vue","webpack://mvtime/./src/components/Portal/SidebarToggle.vue?89fb","webpack://mvtime/./src/components/Portal/Left/ClassList.vue","webpack://mvtime/./src/components/Portal/Left/ClassList.vue?a76a","webpack://mvtime/./src/components/Portal/Left/ActionsPanel.vue","webpack://mvtime/./src/components/Portal/Left/ActionsPanel.vue?68f4","webpack://mvtime/./src/components/Portal/LeftBar.vue?5f79","webpack://mvtime/./src/components/Portal/RightBar.vue","webpack://mvtime/./src/components/Portal/UpcomingTasks.vue","webpack://mvtime/./src/components/Portal/UpcomingTasks.vue?10ea","webpack://mvtime/./src/components/Portal/RightBar.vue?fdce","webpack://mvtime/./src/components/Portal/StudyBlock.vue","webpack://mvtime/./src/components/LoadingCover.vue","webpack://mvtime/./src/components/LoadingCover.vue?e76a","webpack://mvtime/./src/components/Portal/StudyBlock.vue?5230","webpack://mvtime/./src/components/Portal/CalendarBlock.vue","webpack://mvtime/./src/components/Portal/CalendarBlock.vue?8769","webpack://mvtime/./src/views/Portal/Portal.vue?2615"],"sourcesContent":["// Path: store/magic.js\r\n\r\n// setup Pinia store\r\n// import { _status } from \"@/common\";\r\nimport { defineStore } from \"pinia\";\r\n\r\n// Smart URL\r\nfunction smart_url(path) {\r\n  if (!path) return;\r\n  path = path.toLowerCase();\r\n  /**  Google Suite **/\r\n  if (path.match(/https:\\/\\/[a-zA-Z0-9]+.google.com\\/[a-zA-Z0-9]+\\/[a-zA-Z0-9]+/)) {\r\n    // Google Classroom\r\n    if (path.match(/https:\\/\\/classroom.google.com*./)) {\r\n      // Google Classroom assignment (classroom.google.com/c/.../a/...)\r\n      if (path.match(/https:\\/\\/classroom.google.com\\/c\\/[a-zA-Z0-9]+\\/a\\/*./)) {\r\n        return \"Google Classroom Assignment\";\r\n      }\r\n      // Google Classroom post (classroom.google.com/c/.../p/...)\r\n      else if (path.match(/https:\\/\\/classroom.google.com\\/c\\/[a-zA-Z0-9]+\\/p\\/*./)) {\r\n        return \"Google Classroom Post\";\r\n      }\r\n      // Google Classroom class (classroom.google.com/c/...)\r\n      else if (path.match(/https:\\/\\/classroom.google.com\\/c\\/[a-zA-Z0-9]+/)) {\r\n        return \"Google Classroom Class\";\r\n      }\r\n      // Google Classroom home\r\n      else if (\r\n        path.match(/https:\\/\\/classroom.google.com\\/h/) ||\r\n        path.match(/https:\\/\\/classroom.google.com\\/u\\/[0-9]+/)\r\n      ) {\r\n        return \"Google Classroom Home\";\r\n      }\r\n      // Everything Else\r\n      else {\r\n        return \"Google Classroom Link\";\r\n      }\r\n    }\r\n  }\r\n  // Canvas\r\n  else if (path.match(/https:\\/\\/[a-zA-Z0-9]+.instructure.com*./)) {\r\n    // Canvas Assignment\r\n\r\n    if (path.match(/https:\\/\\/[a-zA-Z0-9]+.instructure.com\\/courses\\/[0-9]+\\/modules*./)) {\r\n      return \"Canvas Course Modules\";\r\n    } else if (\r\n      path.match(/https:\\/\\/[a-zA-Z0-9]+.instructure.com\\/courses\\/[0-9]+\\/assignments\\/[0-9]+/)\r\n    ) {\r\n      return \"Canvas Assignment\";\r\n    } else if (path.match(/https:\\/\\/[a-zA-Z0-9]+.instructure.com\\/courses\\/[0-9]+/)) {\r\n      return \"Canvas Course\";\r\n    } else if (path.match(/https:\\/\\/[a-zA-Z0-9]+.instructure.com\\/courses/)) {\r\n      return \"Canvas Home\";\r\n    } else {\r\n      return \"Canvas Link\";\r\n    }\r\n  } else if (\r\n    path.match(/https:\\/\\/[a-zA-Z0-9]+.lon-capa.net*./) ||\r\n    path.match(/https:\\/\\/lon-capa.net*./) ||\r\n    path.match(/https:\\/\\/[a-zA-Z0-9]+.loncapa.net*./) ||\r\n    path.match(/https:\\/\\/loncapa.net*./)\r\n  ) {\r\n    return \"LON-CAPA Portal\";\r\n  }\r\n}\r\n\r\nexport const useMagic = defineStore({\r\n  id: \"magic\",\r\n  state: () => ({\r\n    types: {\r\n      note: \"Note\",\r\n      task: \"Assignment\",\r\n      // socratic: \"Socratic Seminar\",\r\n      test: \"Test\",\r\n      // summative: \"Summative Assignment\",\r\n      // midterm: \"Midterm\",\r\n      project: \"Project\",\r\n      quiz: \"Quiz\",\r\n      exam: \"Exam\",\r\n    },\r\n  }),\r\n  getters: {},\r\n  actions: {\r\n    /**\r\n     * @function path\r\n     * @description get the smart text associated with a given url\r\n     * @param {String} path\r\n     * @returns {String} text - the smart text associated with the url\r\n     */\r\n    text(path) {\r\n      return smart_url(path) || null;\r\n    },\r\n    // /**\r\n    //  * @function type\r\n    //  * @description get the smart type associated with a given description\r\n    //  * @param {String} text\r\n    //  */\r\n    // type(text) {\r\n    //   return text;\r\n    // },\r\n  },\r\n});\r\n","<template>\r\n  <a class=\"task_card\" :style=\"{ '--color-calendar-task': task.color }\">\r\n    <div class=\"task_card_icon\" :title=\"task.class_name\">\r\n      <div class=\"task_card_icon_container\">\r\n        <div class=\"task_card_icon_container__img\"></div>\r\n      </div>\r\n    </div>\r\n    <div class=\"task_card_details\">\r\n      <div class=\"task_card_details__title\">{{ task.name }}</div>\r\n      <div class=\"task_card_details__extended\">\r\n        <span class=\"task_card_details__extended__date\">{{\r\n          task.date.toLocaleDateString(undefined, {\r\n            weekday: \"long\",\r\n            month: \"long\",\r\n            day: \"numeric\",\r\n          })\r\n        }}</span>\r\n        &nbsp;|&nbsp;\r\n        <span class=\"task_card_details__extended__type\">{{ type_full }}</span>\r\n      </div>\r\n    </div>\r\n  </a>\r\n</template>\r\n\r\n<script>\r\nimport { useMagic } from \"@/store/magic\";\r\nexport default {\r\n  name: \"ExamCard\",\r\n  props: {\r\n    task: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n  },\r\n  computed: {\r\n    type_full() {\r\n      return useMagic().types[this.task.type];\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.task_card {\r\n  display: flex;\r\n  flex-flow: row nowrap;\r\n  justify-content: stretch;\r\n  align-items: stretch;\r\n  height: var(--height-task-card);\r\n  margin: 10px 0;\r\n  color: inherit !important;\r\n}\r\n.task_card,\r\n.task_card * {\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n}\r\n.task_card_icon {\r\n  height: 100%;\r\n  width: var(--height-task-card);\r\n  border-radius: 30%;\r\n  border: solid 2px var(--color-calendar-task);\r\n  box-sizing: border-box;\r\n  filter: var(--filter-calendar-task);\r\n  overflow: hidden;\r\n  flex-shrink: 0;\r\n  /* box-shadow: 0px 4px 4px var(--color-calendar-task); */\r\n  /* box-shadow: 0px 0px 4px var(--color-calendar-task); */\r\n}\r\n.task_card_icon_container {\r\n  height: 100%;\r\n  width: 100%;\r\n  filter: var(--filter-task-card-icon);\r\n  background-color: var(--color-task-card-icon);\r\n}\r\n.task_card_icon_container__img {\r\n  background-image: url(@/assets/img/general/portal/exam/test-icon.png);\r\n  background-image: url(@/assets/img/general/portal/exam/test-icon.svg);\r\n  background-repeat: no-repeat;\r\n  background-size: contain;\r\n  background-position: center center;\r\n  padding: var(--padding-task-card-icon);\r\n  filter: var(--filter-icon);\r\n  height: 100%;\r\n  width: 100%;\r\n}\r\n.task_card_details {\r\n  padding-left: 20px;\r\n  flex-grow: 1;\r\n  /* layout */\r\n  display: flex;\r\n  flex-flow: column nowrap;\r\n  align-items: stretch;\r\n  justify-content: space-evenly;\r\n}\r\n/* details */\r\n.task_card_details > * {\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  max-width: 100%;\r\n  text-overflow: ellipsis;\r\n}\r\n.task_card_details__title {\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n}\r\n.task_card_details__extended {\r\n  opacity: 0.5;\r\n  font-size: 12px;\r\n  font-weight: 400;\r\n  /* layout */\r\n  display: flex;\r\n  flex-flow: row nowrap;\r\n  align-items: center;\r\n  justify-content: flex-start;\r\n}\r\n.task_card_details__extended__date {\r\n  flex: auto 0 1;\r\n}\r\n.task_card_details__extended__type {\r\n  flex: 0px 1 1;\r\n}\r\n</style>\r\n","import { render } from \"./ExamCard.vue?vue&type=template&id=4171f24f\"\nimport script from \"./ExamCard.vue?vue&type=script&lang=js\"\nexport * from \"./ExamCard.vue?vue&type=script&lang=js\"\n\nimport \"./ExamCard.vue?vue&type=style&index=0&id=4171f24f&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\sande\\\\Documents\\\\GitHub\\\\mvtime.github.io\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <main class=\"portal\" :page=\"page\">\r\n    <LeftBar\r\n      ref=\"LeftBar\"\r\n      :class=\"{ paged: page == 'left' }\"\r\n      :paged=\"page == 'left'\"\r\n      @toggle_filtered_class=\"toggle_filtered_class\"\r\n      @clear_filters=\"filtered_classes = []\"\r\n      @close_right_bar=\"close_right_bar\"\r\n      :filtered_classes=\"filtered_classes\"\r\n      @dragclass=\"\r\n        close_left_bar();\r\n        drag_class($event);\r\n      \"\r\n      @drag=\"$refs.calendar.check_leave($event)\"\r\n      @dragend=\"$refs.calendar.drop_class($event)\"\r\n      @mounted=\"\r\n        if (loaded) {\r\n          $refs.LeftBar.load();\r\n        }\r\n      \"\r\n    />\r\n    <div\r\n      class=\"portal_content\"\r\n      @click=\"\r\n        close_right_bar();\r\n        close_left_bar();\r\n      \"\r\n    >\r\n      <div class=\"portal_content__spaced\">\r\n        <header class=\"portal_info calendar_width\">\r\n          <div class=\"portal_info_title\">\r\n            <span class=\"portal_info_usertype\"\r\n              >{{ store.is_teacher ? \"Teacher\" : \"Student\" }} Dashboard</span\r\n            >\r\n            <span class=\"portal_info_date\">{{\r\n              new Date().toLocaleDateString(\"en-US\", {\r\n                weekday: \"long\",\r\n                year: \"numeric\",\r\n                month: \"long\",\r\n                day: \"numeric\",\r\n              })\r\n            }}</span>\r\n          </div>\r\n          <div class=\"portal_info_welcome\">\r\n            {{\r\n              store.recently_joined\r\n                ? \"Welcome to MVTT\"\r\n                : store.non_recent_signin\r\n                ? \"Welcome Back\"\r\n                : random_welcome\r\n            }}\r\n            {{ name }}!\r\n          </div>\r\n        </header>\r\n        <!-- calendar -->\r\n        <!-- on mounted, if this.loaded, run run_get_tasks -->\r\n\r\n        <StudyBlock\r\n          v-if=\"is_study\"\r\n          :filtered_classes=\"filtered_classes\"\r\n          @taskclick=\"show_task($event)\"\r\n          ref=\"study\"\r\n          @mounted=\"\r\n            if (loaded) {\r\n              $refs.study.run_get_tasks();\r\n            }\r\n          \"\r\n        />\r\n        <CalendarBlock\r\n          v-else\r\n          :filtered_classes=\"filtered_classes\"\r\n          @taskclick=\"show_task($event)\"\r\n          ref=\"calendar\"\r\n          :dragging_class=\"dragging_class\"\r\n          @mounted=\"\r\n            if (loaded) {\r\n              $refs.calendar.run_get_tasks();\r\n            }\r\n          \"\r\n        />\r\n      </div>\r\n    </div>\r\n    <RightBar\r\n      ref=\"RightBar\"\r\n      :class=\"{ paged: page == 'right' }\"\r\n      :paged=\"page == 'right'\"\r\n      @close_left_bar=\"close_left_bar\"\r\n      @mounted=\"\r\n        if (loaded) {\r\n          $refs.RightBar.load();\r\n        }\r\n      \"\r\n    />\r\n    <!-- show bottom nav bar if on device 600px wide or lower -->\r\n\r\n    <nav class=\"portal_mobile_nav\">\r\n      <button\r\n        class=\"portal_mobile_nav_page\"\r\n        :class=\"{ active: page == tab }\"\r\n        :id=\"'portal_mobile__' + tab\"\r\n        v-for=\"tab in ['left', 'block', 'right']\"\r\n        :key=\"tab\"\r\n        @click=\"page = tab\"\r\n      >\r\n        <span\r\n          class=\"portal_mobile_nav_page__icon\"\r\n          :class=\"{ alt: page == tab }\"\r\n          :src=\"`portal-${tab}-icon`\"\r\n        ></span>\r\n      </button>\r\n    </nav>\r\n    <!-- show overlay only if router-view is active -->\r\n    <OverlayWrapper\r\n      v-if=\"!['portal', 'study'].includes($route.name)\"\r\n      v-slot=\"scope\"\r\n      @close=\"\r\n        close_path\r\n          ? $router.push(close_path)\r\n          : $router.push({\r\n              name: is_study ? 'study' : 'portal',\r\n              query: { ...$route.query, date: undefined },\r\n            })\r\n      \"\r\n    >\r\n      <router-view\r\n        class=\"router_center_view\"\r\n        @close=\"scope.close\"\r\n        @clear_filters=\"filtered_classes = []\"\r\n      />\r\n    </OverlayWrapper>\r\n  </main>\r\n</template>\r\n\r\n<script>\r\n/**\r\n * The Portal component is the main view for the user dashboard; itdisplays the user's calendar, a left sidebar with filters, and a right sidebar with tasks, and also includes an overlay wrapper for displaying modals.\r\n *\r\n * @module PortalView\r\n * @description The main user dashboard view, holds the calendar and sidebars, as well as a lot of the logic for what to do with data\r\n * @requires module:store/MainStore\r\n */\r\n\r\nimport LeftBar from \"@/components/Portal/LeftBar.vue\";\r\nimport RightBar from \"@/components/Portal/RightBar.vue\";\r\nimport StudyBlock from \"@/components/Portal/StudyBlock.vue\";\r\nimport CalendarBlock from \"@/components/Portal/CalendarBlock.vue\";\r\nimport OverlayWrapper from \"@/components/Modal/OverlayWrapper.vue\";\r\nimport { useMainStore } from \"@/store\";\r\nimport { WarningToast } from \"@svonk/util\";\r\nimport \"@/assets/style/overlay.css\";\r\nimport { _status } from \"../../common\";\r\nexport default {\r\n  name: \"AppPortal\",\r\n  components: {\r\n    LeftBar,\r\n    RightBar,\r\n    StudyBlock,\r\n    CalendarBlock,\r\n    OverlayWrapper,\r\n  },\r\n  data() {\r\n    return {\r\n      /** The classes to include in the Block, or include all if empty */\r\n      filtered_classes: [],\r\n      /** A list of random welcome messages */\r\n      welcomes: [\"Welcome\", \"Hi\", \"Hello\", \"Hey\", \"Howdy\"],\r\n      loaded: false,\r\n      dragging_class: null,\r\n      is_study: this.$route.name == \"study\",\r\n      page: \"block\",\r\n    };\r\n  },\r\n  computed: {\r\n    /** The width of the page */\r\n    width() {\r\n      return window.innerWidth;\r\n    },\r\n    /** The path to redirect to when closing an overlay, if active */\r\n    close_path() {\r\n      return this.$route?.query?.redirect || this.$route?.meta?.close_path;\r\n    },\r\n    /** The user's first name, or adequate placeholder */\r\n    name() {\r\n      return this.store.user?.displayName?.split(\" \")[0] || \"User\";\r\n    },\r\n    /** Whether the user has completed the daily survey today */\r\n    did_survey() {\r\n      return this.store.done_daily_survey;\r\n    },\r\n    /** A random welcome message */\r\n    random_welcome() {\r\n      return this.welcomes[Math.floor(Math.random() * this.welcomes.length)];\r\n    },\r\n    store() {\r\n      return useMainStore();\r\n    },\r\n  },\r\n  methods: {\r\n    drag_class(e) {\r\n      this.dragging_class = e;\r\n    },\r\n    /** Launch the Daily Survey */\r\n    do_survey() {\r\n      this.$router.replace({\r\n        name: \"daily\",\r\n        query: {\r\n          ...this.$route.query,\r\n          redirect: this.$route.fullPath,\r\n        },\r\n      });\r\n      new WarningToast(\"Please complete the daily survey to use MVTT today!\", 3000);\r\n    },\r\n    /** Close / minimize the left sidebar on small screens */\r\n    close_left_bar() {\r\n      this.$refs.LeftBar?.close_sidebar();\r\n    },\r\n    /** Close / minimize the right sidebar on small screens */\r\n    close_right_bar() {\r\n      this.$refs.RightBar?.close_sidebar();\r\n    },\r\n    /** Show a task in the ViewTask ModalVue */\r\n    show_task(task) {\r\n      this.$router.push({\r\n        name: \"viewtask\",\r\n        params: {\r\n          ref: this.store.path_to_ref(task.ref),\r\n        },\r\n        query: this.$route.query,\r\n      });\r\n    },\r\n    /** Toggle on or off a class in the filtered ClassList from showing in the Block */\r\n    toggle_filtered_class(c) {\r\n      if (this.filtered_classes.includes(c)) {\r\n        this.filtered_classes = this.filtered_classes.filter((id) => id !== c);\r\n      } else {\r\n        this.filtered_classes.push(c);\r\n      }\r\n    },\r\n    /** Launch the Daily Survey if it hasn't yet been completed */\r\n    check_and_do_survey() {\r\n      if (this?.store?.user && !this?.did_survey && this.$route?.meta?.noSurvey !== true) {\r\n        this.do_survey();\r\n      }\r\n    },\r\n    /** Launch the Join Form if it hasn't been completed yet */\r\n    check_and_do_join() {\r\n      if (!this.store.done_join_form) {\r\n        this.$router.push({\r\n          name: \"join\",\r\n          query: {\r\n            ...this.$route.query,\r\n            redirect: this.$route.fullPath,\r\n          },\r\n        });\r\n        new WarningToast(\"Please fill out the join form to use MVTT!\", 3000);\r\n      }\r\n    },\r\n  },\r\n  /** Preform Join Form & Daily Survey completion checks on load */\r\n  mounted() {\r\n    _status.log(\"ðŸ— Portal mounted\");\r\n    this.check_and_do_join();\r\n    this.check_and_do_survey();\r\n    this.store\r\n      .fetch_classes()\r\n      .then(() => {\r\n        // run calendar run_get_tasks method\r\n        if (this.$refs.study) this.$refs.study.run_get_tasks();\r\n        if (this.$refs.calendar) this.$refs.calendar.run_get_tasks();\r\n        this.$refs.RightBar.load();\r\n        this.$refs.LeftBar.load();\r\n        this.loaded = true;\r\n      })\r\n      .catch((err) => {\r\n        _status.error(\"ðŸ”¥ Couldn't fetch classes\", err);\r\n      });\r\n  },\r\n  /** Preform same checks as mounted, but if any of the completion statuses could've changed on page switch or data load */\r\n  watch: {\r\n    width(before, after) {\r\n      if (after <= 600 && before > 600) {\r\n        this.page = \"block\";\r\n      }\r\n    },\r\n    did_survey() {\r\n      this.check_and_do_survey();\r\n    },\r\n    $time() {\r\n      this.check_and_do_survey();\r\n    },\r\n    $route() {\r\n      if (!this.is_study && this.$route.name == \"study\") {\r\n        this.is_study = true;\r\n      } else if (this.$route.name == \"portal\") {\r\n        this.is_study = false;\r\n      }\r\n      if (this.$route.name != \"portal\") {\r\n        this.close_right_bar();\r\n        this.close_left_bar();\r\n      }\r\n      this.check_and_do_survey();\r\n    },\r\n    store: {\r\n      handler() {\r\n        this.check_and_do_join();\r\n      },\r\n      deep: true,\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* portal */\r\nmain.portal {\r\n  background-color: var(--color-secondary);\r\n  /* transition: background-color 0.3s ease-out; */\r\n  /* sizing */\r\n  width: 100%;\r\n  height: 100%;\r\n  /* display */\r\n  display: flex;\r\n  flex-flow: row nowrap;\r\n  justify-content: space-between;\r\n}\r\nmain.portal .portal_sidebar {\r\n  box-shadow: var(--shadow-highlight);\r\n  flex-basis: 300px;\r\n  width: 300px;\r\n  flex-grow: 0;\r\n  flex-shrink: 1;\r\n  background-color: var(--color-bg);\r\n  position: relative;\r\n  box-sizing: border-box;\r\n  padding: 0;\r\n}\r\n\r\nmain.portal .portal_sidebar {\r\n  /* margin: auto 0; */\r\n  height: 100%;\r\n  transition: transform 0.3s ease-out, box-shadow 0.3s ease-out, border-width 0.3s ease-out,\r\n    border-radius 0.3s ease-out;\r\n  /* layout */\r\n  display: flex;\r\n  flex-flow: column nowrap;\r\n}\r\n@media (min-height: 800px) {\r\n  main.portal .portal_sidebar {\r\n    max-height: 800px;\r\n    top: calc(50% - 400px);\r\n  }\r\n}\r\n@media (min-width: /* [desktop size] */ 1270px) and (max-height: 1200px), (max-width: 600px) {\r\n  main.portal .portal_sidebar {\r\n    border-radius: 0px !important;\r\n    box-shadow: none !important;\r\n    height: 100%;\r\n    top: 0;\r\n    max-height: unset;\r\n  }\r\n  main.portal {\r\n    background-color: var(--color-bg);\r\n  }\r\n}\r\n\r\n@media (max-width: /* [desktop size] */ 1270px) {\r\n  main.portal .portal_content {\r\n    position: absolute;\r\n    z-index: 1;\r\n    height: 100%;\r\n    width: 100%;\r\n    top: 0;\r\n    left: 0;\r\n  }\r\n  main.portal .portal_sidebar {\r\n    z-index: 2;\r\n    position: fixed;\r\n  }\r\n\r\n  .portal_sidebar.left-bar {\r\n    left: 0;\r\n  }\r\n  .portal_sidebar.right-bar {\r\n    right: 0;\r\n  }\r\n  main.portal .portal_sidebar:not(.active):not(.paged) {\r\n    cursor: pointer;\r\n  }\r\n\r\n  main.portal .portal_sidebar.active,\r\n  main.portal .portal_sidebar[active=\"true\"] {\r\n    transform: translate(0);\r\n  }\r\n}\r\n/* top bar */\r\nheader.portal_info {\r\n  margin: 0 auto;\r\n  margin-bottom: 20px;\r\n}\r\n.portal_info_usertype {\r\n  font-size: 26px;\r\n  font-weight: bold;\r\n  letter-spacing: 0.065em;\r\n  line-height: 49px;\r\n  text-align: center;\r\n}\r\n.portal_info_date {\r\n  font-size: 15px;\r\n  letter-spacing: 0.04em;\r\n  line-height: 27px;\r\n  text-align: center;\r\n}\r\n.portal_info_welcome {\r\n  font-size: 19px;\r\n\r\n  letter-spacing: 0.08em;\r\n  font-style: italic;\r\n  line-height: 27px;\r\n}\r\n.portal_content {\r\n  flex-grow: 1;\r\n  padding: var(--padding-portal);\r\n  overflow-y: auto;\r\n}\r\n.portal_content::-webkit-scrollbar {\r\n  display: none;\r\n}\r\n.portal_content__spaced {\r\n  display: flex;\r\n  flex-flow: column nowrap;\r\n  justify-content: center;\r\n  align-items: stretch;\r\n  min-height: 100%;\r\n}\r\n/* on small devices, align task list to top */\r\n@media (max-width: 600px) {\r\n  .portal_content__spaced {\r\n    justify-content: start;\r\n  }\r\n  .portal_content {\r\n    padding: var(--padding-portal-mobile);\r\n  }\r\n}\r\n.portal_info,\r\n.portal_info > div {\r\n  width: 100%;\r\n}\r\n.portal_info_title {\r\n  display: flex;\r\n  flex-flow: row wrap;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n@media (max-width: 400px) {\r\n  main.portal .portal_sidebar {\r\n    min-width: 300px;\r\n    position: fixed;\r\n    top: 0;\r\n  }\r\n}\r\n@media (max-width: 340px) {\r\n  main.portal .portal_sidebar {\r\n    min-width: calc(100% - 40px);\r\n  }\r\n}\r\n@media (max-width: 600px) {\r\n  main.portal .portal_sidebar {\r\n    width: 100%;\r\n    height: calc(100% - var(--height-portal-mobile-nav));\r\n    max-height: calc(100% - var(--height-portal-mobile-nav));\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    transition: transform 0.3s ease-out, border-radius 0.3s ease-out, top 0.3s ease-out,\r\n      height 0.3s ease-out, max-height 0.3s ease-out, left 0.3s ease-out, right 0.3s ease-out;\r\n    border-radius: 0 !important;\r\n  }\r\n  main.portal .portal_sidebar.left-bar {\r\n    transform: translateX(-100%);\r\n  }\r\n  main.portal .portal_sidebar.right-bar {\r\n    transform: translateX(100%);\r\n  }\r\n  main.portal[page=\"left\"] .portal_sidebar.left-bar,\r\n  main.portal[page=\"right\"] .portal_sidebar.right-bar {\r\n    transform: translateX(0);\r\n  }\r\n  main.portal .portal_content {\r\n    transition: transform 0.3s ease-out, opacity 0.3s ease-out, filter 0.3s ease-out;\r\n  }\r\n  main.portal:not([page=\"block\"]) .portal_content {\r\n    transform: scale(0.9);\r\n    opacity: 0.7;\r\n    filter: blur(3px);\r\n  }\r\n  /* layout */\r\n  main.portal {\r\n    flex-flow: column nowrap;\r\n  }\r\n  main.portal .portal_content {\r\n    position: unset;\r\n  }\r\n}\r\n\r\n/* mobile nav */\r\n.portal_mobile_nav {\r\n  height: var(--height-portal-mobile-nav);\r\n  flex: 0 0 var(--height-portal-mobile-nav);\r\n  width: 100%;\r\n  background: var(--color-bg);\r\n  border-top: 3px solid var(--color-on-bg);\r\n  /* layout */\r\n  flex-flow: row nowrap;\r\n  justify-content: stretch;\r\n  align-items: stretch;\r\n  /* mobile only */\r\n  display: none;\r\n}\r\n.portal_mobile_nav .portal_mobile_nav_page {\r\n  flex: 1 1 33%;\r\n  /* style */\r\n  border: none;\r\n  background: none;\r\n  /* layout */\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n/* print media */\r\n@media print {\r\n  main.portal .portal_sidebar {\r\n    display: none;\r\n  }\r\n  main.portal .portal_content {\r\n    padding: 0;\r\n  }\r\n}\r\n\r\n/* icons */\r\n.portal_mobile_nav_page__icon {\r\n  height: 40px;\r\n  width: 40px;\r\n  background-size: contain;\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n  filter: var(--filter-icon);\r\n  /* transition */\r\n  transition: opacity 0.2s ease-out, scale 0.2s ease-out;\r\n  scale: 1;\r\n  opacity: 0.5;\r\n}\r\n.portal_mobile_nav_page__icon.alt {\r\n  opacity: 1;\r\n  scale: 1.2;\r\n}\r\n.portal_mobile_nav_page__icon[src=\"portal-left-icon\"] {\r\n  background-image: url(@/assets/img/general/portal/nav/left.png);\r\n  background-image: url(@/assets/img/general/portal/nav/left.svg);\r\n}\r\n.portal_mobile_nav_page__icon[src=\"portal-block-icon\"] {\r\n  background-image: url(@/assets/img/general/portal/nav/block.png);\r\n  background-image: url(@/assets/img/general/portal/nav/block.svg);\r\n}\r\n\r\n.portal_mobile_nav_page__icon[src=\"portal-right-icon\"] {\r\n  background-image: url(@/assets/img/general/portal/nav/right.png);\r\n  background-image: url(@/assets/img/general/portal/nav/right.svg);\r\n}\r\n</style>\r\n<style>\r\n@media (max-width: 600px) {\r\n  main.portal .sidebar_toggle {\r\n    display: none;\r\n  }\r\n  main.portal .portal_mobile_nav {\r\n    display: flex;\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"left-bar portal_sidebar\" :class=\"{ active: sidebar_open }\" @click=\"show_if_inactive\">\r\n    <div class=\"sidebar_overflow\">\r\n      <div class=\"branding-title gohome\">MV Test Tracker</div>\r\n      <div class=\"flex_spacer\"></div>\r\n      <!-- Actions Panel -->\r\n      <ActionsPanel v-if=\"store && store.is_teacher\" />\r\n      <!-- Class List -->\r\n      <ClassList v-bind=\"$attrs\" @dragclass=\"$emit('dragclass', $event)\" />\r\n      <div class=\"flex_spacer\"></div>\r\n    </div>\r\n    <!-- Theme Button -->\r\n    <button\r\n      :_theme=\"store.get_theme\"\r\n      class=\"theme_button click-action\"\r\n      title=\"Switch Theme\"\r\n      @click=\"store.toggle_theme\"\r\n    >\r\n      <div class=\"theme_icon\"></div>\r\n      <div class=\"toggle_text\">Switch Theme</div>\r\n    </button>\r\n    <!-- Sidebar Toggle -->\r\n    <SidebarToggle class=\"right\" @click=\"close_sidebar\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport SidebarToggle from \"@/components/Portal/SidebarToggle.vue\";\r\nimport ClassList from \"./Left/ClassList.vue\";\r\nimport ActionsPanel from \"./Left/ActionsPanel.vue\";\r\nimport { useMainStore } from \"@/store\";\r\nimport { placeholderToast } from \"@svonk/util\";\r\nexport default {\r\n  name: \"LeftBar\",\r\n  components: {\r\n    SidebarToggle,\r\n    ClassList,\r\n    ActionsPanel,\r\n  },\r\n  props: {\r\n    paged: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n  },\r\n  emits: [\"close_right_bar\", \"set_class\", \"mounted\", \"dragclass\"],\r\n  data() {\r\n    return {\r\n      sidebar_open: false,\r\n    };\r\n  },\r\n  computed: {\r\n    store() {\r\n      return useMainStore();\r\n    },\r\n  },\r\n  mounted() {\r\n    this.$emit(\"mounted\");\r\n    window.addEventListener(\"resize\", this.close_sidebar);\r\n  },\r\n  unmounted() {\r\n    window.removeEventListener(\"resize\", this.close_sidebar);\r\n  },\r\n  methods: {\r\n    placeholderToast,\r\n    show_if_inactive() {\r\n      if (!this.sidebar_open) this.sidebar_open = true;\r\n      this.$emit(\"close_right_bar\");\r\n    },\r\n    close_sidebar() {\r\n      if (this.sidebar_open) setTimeout(() => (this.sidebar_open = false), 10);\r\n    },\r\n    set_class(c) {\r\n      this.$emit(\"set_class\", c);\r\n    },\r\n    load() {\r\n      this.loading = false;\r\n    },\r\n  },\r\n  watch: {\r\n    paged() {\r\n      if (this.paged) this.sidebar_open = true;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.left-bar {\r\n  border-radius: 0 var(--radius-sidebar) var(--radius-sidebar) 0;\r\n}\r\n@media (min-width: /* [desktop size] */ 1270px) and (max-height: 1200px) {\r\n  main.portal .portal_sidebar {\r\n    border-right: 3px solid var(--color-on-bg);\r\n  }\r\n}\r\n@media (max-width: /* [desktop size] */ 1270px) {\r\n  main.portal .portal_sidebar {\r\n    transform: translate(calc(-100% + 15px));\r\n  }\r\n  main.portal .portal_sidebar:hover {\r\n    transform: translate(calc(-100% + 25px));\r\n  }\r\n  /* prevent accidental clicks when hovering over collapsed sidebar */\r\n  main.portal .portal_sidebar:not(.active):not(.paged) * {\r\n    pointer-events: none !important;\r\n    user-select: none !important;\r\n  }\r\n}\r\n\r\n.branding-title {\r\n  font-weight: 700;\r\n  font-size: 20px;\r\n  line-height: 40px;\r\n  text-align: center;\r\n  user-select: none;\r\n}\r\n/* theme icon */\r\n.theme_button {\r\n  /* sizebar specific styling */\r\n  bottom: calc(var(--padding-sidebar) / 1.5);\r\n  left: calc(var(--padding-sidebar) / 1.5);\r\n  position: absolute;\r\n}\r\n.sidebar_overflow::-webkit-scrollbar {\r\n  display: none;\r\n}\r\n.sidebar_overflow {\r\n  overflow-y: auto;\r\n  /* layout */\r\n  display: flex;\r\n  flex-flow: column nowrap;\r\n  width: 100%;\r\n  height: 100%;\r\n  padding: var(--padding-sidebar);\r\n  padding-bottom: calc(var(--padding-sidebar) + var(--height-sidebar-action));\r\n}\r\n</style>\r\n","<template>\r\n  <button class=\"sidebar_toggle click-action\" title=\"Close Sidebar\">\r\n    <div class=\"arrow-icon\"></div>\r\n  </button>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"SidebarToggle\",\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.sidebar_toggle {\r\n  display: none;\r\n  position: absolute;\r\n  bottom: calc(var(--padding-sidebar) / 1.5);\r\n  left: calc(var(--padding-sidebar) / 1.5);\r\n  height: var(--size-sidebar-button);\r\n  width: var(--size-sidebar-button);\r\n  cursor: pointer;\r\n  z-index: 1;\r\n  border-radius: calc(var(--radius-sidebar) - var(--padding-sidebar) / 3);\r\n  border: none;\r\n  background-color: var(--color-on-bg);\r\n  padding: 0;\r\n}\r\n\r\n.sidebar_toggle.right {\r\n  left: unset;\r\n  right: calc(var(--padding-sidebar) / 2);\r\n}\r\n.sidebar_toggle .arrow-icon {\r\n  filter: var(--filter-icon);\r\n}\r\n.arrow-icon {\r\n  height: 100%;\r\n  width: 100%;\r\n  background-image: url(@/assets/img/general/portal/arrow-right.png);\r\n  background-image: url(@/assets/img/general/portal/arrow-right.svg);\r\n  background-repeat: no-repeat;\r\n  background-size: contain;\r\n  background-position: center;\r\n  user-select: none;\r\n  pointer-events: none;\r\n}\r\n.sidebar_toggle.right .arrow-icon {\r\n  background-image: url(@/assets/img/general/portal/arrow-left.png);\r\n  background-image: url(@/assets/img/general/portal/arrow-left.svg);\r\n}\r\n@media (max-width: 1200px) {\r\n  .sidebar_toggle {\r\n    display: block;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./SidebarToggle.vue?vue&type=template&id=2e4cb15c&scoped=true\"\nimport script from \"./SidebarToggle.vue?vue&type=script&lang=js\"\nexport * from \"./SidebarToggle.vue?vue&type=script&lang=js\"\n\nimport \"./SidebarToggle.vue?vue&type=style&index=0&id=2e4cb15c&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\sande\\\\Documents\\\\GitHub\\\\mvtime.github.io\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2e4cb15c\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"class_list\">\r\n    <div class=\"class_list__not_empty\" :class=\"{ filtering: !!filtered_classes.length }\">\r\n      <h5\r\n        @click=\"$emit('clear_filters')\"\r\n        :title=\"filtered_classes.length ? 'Click to clear filters' : ''\"\r\n      >\r\n        Classes\r\n      </h5>\r\n      <hr class=\"class_list_hr\" />\r\n      <div class=\"classes_container\" :class=\"{ filtering: !!filtered_classes.length }\">\r\n        <a\r\n          class=\"classes_container_class\"\r\n          :ref=\"class_obj.ref\"\r\n          :href=\"'/view/' + clean_ref(class_obj.ref)\"\r\n          v-for=\"class_obj of classes\"\r\n          :draggable=\"\r\n            store.is_teacher && class_obj.email == this.store.user.email && $route.name != 'study'\r\n          \"\r\n          @dragstart=\"\r\n            $emit('dragclass', class_obj);\r\n            $emit('clear_filters');\r\n            dragging = class_obj;\r\n          \"\r\n          @dragend=\"\r\n            dragging = null;\r\n            $emit('dragclass', { ...class_obj, _done: true });\r\n          \"\r\n          :key=\"class_obj.name\"\r\n          @click=\"\r\n            $emit('toggle_filtered_class', class_obj.id);\r\n            $event.preventDefault();\r\n          \"\r\n          :style=\"{ '--color-class': class_obj.color, '--color-class-alt': class_obj.color + '40' }\"\r\n          :class=\"{\r\n            filter_active: filtered_classes.includes(class_obj.id),\r\n            classes_container_class__dragging: dragging && dragging.ref == class_obj.ref,\r\n          }\"\r\n        >\r\n          <div\r\n            class=\"class_swatch\"\r\n            :_email=\"class_obj.email\"\r\n            :title=\"\r\n              store.is_teacher && class_obj.email == this.store.user.email\r\n                ? 'Edit Class'\r\n                : 'Leave Class'\r\n            \"\r\n            @click=\"\r\n              if (store.is_teacher && class_obj.email == this.store.user.email) {\r\n                edit_class(class_obj);\r\n              } else {\r\n                leave_class(class_obj);\r\n              }\r\n              $event.preventDefault();\r\n              $event.stopPropagation();\r\n            \"\r\n          >\r\n            <div\r\n              v-if=\"!store.is_teacher || class_obj.email != this.store.user.email\"\r\n              class=\"class_swatch__icon class_swatch_remove__icon\"\r\n            ></div>\r\n            <div v-else class=\"class_swatch__icon class_swatch_edit__icon\"></div>\r\n          </div>\r\n\r\n          <span v-if=\"class_obj.period\" class=\"class_name\"\r\n            >P{{ class_obj.period }} - {{ class_obj.name }}</span\r\n          >\r\n          <span v-else class=\"class_name\">{{ class_obj.name }}</span>\r\n        </a>\r\n        <div\r\n          v-if=\"!store.is_teacher || true\"\r\n          class=\"classes_container_class classes_container_class__add_class\"\r\n          @click=\"$router.push({ name: 'addclass', query: $route.query })\"\r\n        >\r\n          <div class=\"class_swatch\">\r\n            <div class=\"class_swatch__add_icon\"></div>\r\n          </div>\r\n          <span class=\"class_name\">Join a Class</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { useMainStore } from \"@/store\";\r\nexport default {\r\n  props: {\r\n    filtered_classes: {\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n  },\r\n  name: \"ClassList\",\r\n  data() {\r\n    return {\r\n      dragging: null,\r\n    };\r\n  },\r\n  computed: {\r\n    store() {\r\n      return useMainStore();\r\n    },\r\n    classes() {\r\n      return this.store.classes.map((class_obj) => {\r\n        return {\r\n          ...class_obj,\r\n          email: class_obj.id.split(\"/\")[0],\r\n        };\r\n      });\r\n    },\r\n  },\r\n  emits: [\"toggle_filtered_class\", \"clear_filters\", \"dragclass\"],\r\n  methods: {\r\n    clean_ref(ref) {\r\n      let [_email, _id] = ref.split(\"/\");\r\n      _email = _email.split(\"@\")[0];\r\n      return [_email, _id].join(\"~\");\r\n    },\r\n    leave_class(class_obj) {\r\n      this.$router.push({\r\n        name: \"leave\",\r\n        params: {\r\n          ref: this.clean_ref(class_obj.id),\r\n        },\r\n        query: this.$route.query,\r\n      });\r\n    },\r\n    edit_class(class_obj) {\r\n      this.$router.push({\r\n        name: \"editclass\",\r\n        params: {\r\n          ref: this.clean_ref(class_obj.id),\r\n        },\r\n        query: this.$route.query,\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.class_list {\r\n  margin: auto 0;\r\n  width: 100%;\r\n  flex-grow: 1;\r\n  display: flex;\r\n  flex-flow: column nowrap;\r\n  align-items: stretch;\r\n  justify-content: center;\r\n  flex-basis: 200px;\r\n  flex-shrink: 1;\r\n}\r\n.class_list__not_empty {\r\n  flex-shrink: 1;\r\n  padding-bottom: 40px;\r\n}\r\nh5 {\r\n  font-size: 17px;\r\n  font-weight: 600;\r\n  letter-spacing: 0.015rem;\r\n  line-height: 27px;\r\n  text-align: center;\r\n  border-radius: 8px;\r\n  user-select: none;\r\n}\r\n.filtering h5:hover {\r\n  background-color: var(--color-on-bg);\r\n}\r\n.class_list_hr {\r\n  margin: 5px 0;\r\n  border: none;\r\n  border-top: 2px solid var(--color-task-separator);\r\n}\r\n/* class */\r\n.classes_container_class {\r\n  display: flex;\r\n  flex-flow: row nowrap;\r\n  align-items: center;\r\n  justify-content: stretch;\r\n  margin: var(--spacing-classes) 0;\r\n  user-select: none;\r\n  border-radius: 5px;\r\n  padding: var(--spacing-classes-alt);\r\n  /* link fix */\r\n  color: var(--color-text);\r\n  text-decoration: none;\r\n  font-weight: 500;\r\n}\r\n.classes_container_class:hover {\r\n  background-color: var(--color-on-bg);\r\n}\r\n/* class filtering */\r\n.filtering .classes_container_class:not(.classes_container_class__add_class) {\r\n  opacity: 0.7;\r\n}\r\n.filtering .classes_container_class.filter_active,\r\n.classes_container_class.classes_container_class__dragging {\r\n  background-color: var(--color-class-alt);\r\n  opacity: 1;\r\n}\r\n.classes_container_class__add_class,\r\n.classes_container_class__create_class {\r\n  background-color: var(--color-on-bg);\r\n  padding: var(--spacing-classes-alt);\r\n  border-radius: 10px;\r\n  cursor: pointer;\r\n}\r\n.classes_container_class__add_class .class_name,\r\n.classes_container_class__create_class .class_name {\r\n  font-size: 0.8em;\r\n  opacity: 0.7;\r\n  text-align: center;\r\n  flex-grow: 1;\r\n  padding-right: calc(15px + 20px);\r\n}\r\n.classes_container_class > * {\r\n  user-select: none;\r\n}\r\n.class_swatch__add_icon {\r\n  width: 100%;\r\n  height: 100%;\r\n  filter: var(--filter-icon);\r\n  background-image: url(@/assets/img/general/portal/add.png);\r\n  background-image: url(@/assets/img/general/portal/add.svg);\r\n  background-size: contain;\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n}\r\n.class_swatch__icon {\r\n  opacity: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  filter: var(--filter-swatch-icon);\r\n  background-size: 16px;\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n  transition: opacity 0.2s ease-in-out;\r\n}\r\n.class_swatch_remove__icon {\r\n  background-image: url(@/assets/img/general/portal/remove.png);\r\n  background-image: url(@/assets/img/general/portal/remove.svg);\r\n}\r\n.class_swatch_edit__icon {\r\n  background-image: url(@/assets/img/general/portal/edit.png);\r\n  background-image: url(@/assets/img/general/portal/edit.svg);\r\n}\r\n.class_swatch:hover .class_swatch__icon,\r\n.class_swatch:active .class_swatch__icon {\r\n  opacity: 1;\r\n}\r\n.class_swatch {\r\n  display: inline-block;\r\n  width: 20px;\r\n  height: 20px;\r\n  border-radius: 30%;\r\n  margin-right: 15px;\r\n  background-color: var(--color-class);\r\n  filter: var(--filter-calendar-task);\r\n  flex: 0 0 auto;\r\n}\r\n.classes_container_class__add_class .class_swatch,\r\n.classes_container_class__create_class .class_swatch {\r\n  background-color: var(--color-bg);\r\n  filter: none;\r\n}\r\n.class_name {\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n  letter-spacing: 0.015rem;\r\n  text-align: left;\r\n}\r\n</style>\r\n","import { render } from \"./ClassList.vue?vue&type=template&id=1a3dbbbc&scoped=true\"\nimport script from \"./ClassList.vue?vue&type=script&lang=js\"\nexport * from \"./ClassList.vue?vue&type=script&lang=js\"\n\nimport \"./ClassList.vue?vue&type=style&index=0&id=1a3dbbbc&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\sande\\\\Documents\\\\GitHub\\\\mvtime.github.io\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1a3dbbbc\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"teacher_actions\">\r\n    <div\r\n      :disabled=\"!has_classes\"\r\n      :title=\"has_classes ? `${task_type[1]} (${task_type[2]})` : 'Please create a class first'\"\r\n      v-for=\"task_type of task_types\"\r\n      :key=\"task_type[0]\"\r\n      class=\"teacher_action\"\r\n      @click=\"\r\n        if (has_classes) {\r\n          $router.push({\r\n            name: 'newtask',\r\n            params: { tasktype: task_type[0] },\r\n            query: this.$route.query,\r\n          });\r\n        } else {\r\n          warn_missing_class();\r\n        }\r\n      \"\r\n    >\r\n      <div class=\"teacher_action__icon icon__add\"></div>\r\n      <div class=\"teacher_action__text\">\r\n        <!-- Schedule a  -->\r\n        {{ task_type[1] }}\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"teacher_action\" @click=\"$router.push({ name: 'createclass', query: $route.query })\">\r\n      <div class=\"teacher_action__icon icon__create\"></div>\r\n      <div class=\"teacher_action__text\">Create a Class</div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { useMainStore } from \"@/store\";\r\nimport { WarningToast } from \"@svonk/util\";\r\nimport { useShortcuts } from \"@/store/shortcuts\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      task_types: [\r\n        [\"note\", \"Add a Note\", \"n\"],\r\n        [\"task\", \"Schedule a Task or Test\", \"t\"],\r\n      ],\r\n      shortcuts: [\r\n        {\r\n          key: \"n\",\r\n          description: \"Add a Note\",\r\n        },\r\n        {\r\n          key: \"t\",\r\n          description: \"Schedule a Task or Test\",\r\n        },\r\n      ],\r\n    };\r\n  },\r\n  mounted() {\r\n    window.addEventListener(\"keydown\", this.keydown);\r\n    useShortcuts().register_all(this.shortcuts, \"Teacher\");\r\n  },\r\n  beforeUnmount() {\r\n    window.removeEventListener(\"keydown\", this.keydown);\r\n    useShortcuts().remove_tag(\"Teacher\");\r\n  },\r\n  computed: {\r\n    store() {\r\n      return useMainStore();\r\n    },\r\n    has_classes() {\r\n      return this.store?.active_doc?.classes?.length > 0;\r\n    },\r\n  },\r\n  methods: {\r\n    keydown(e) {\r\n      if (\r\n        [\"study\", \"portal\"].includes(this.$route.name) &&\r\n        this.task_types.map((t) => t[2]).includes(e.key) &&\r\n        this.has_classes\r\n      ) {\r\n        const task_type = this.task_types.find((t) => t[2] == e.key);\r\n        this.$router.push({\r\n          name: \"newtask\",\r\n          params: { tasktype: task_type[0] },\r\n          query: this.$route.query,\r\n        });\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n      }\r\n    },\r\n    warn_missing_class() {\r\n      new WarningToast(\"Please create a class first\", 2000);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.teacher_actions {\r\n  display: flex;\r\n  flex-flow: column nowrap;\r\n  align-items: stretch;\r\n  justify-content: center;\r\n  flex-grow: 0;\r\n  flex-shrink: 1;\r\n  flex-basis: 100px;\r\n  margin: 10px 0;\r\n}\r\n.teacher_actions .teacher_action {\r\n  display: flex;\r\n  flex-flow: row nowrap;\r\n  align-items: center;\r\n  user-select: none;\r\n  justify-content: flex-start;\r\n  flex-grow: 0;\r\n  height: var(--height-sidebar-action);\r\n  width: 100%;\r\n  cursor: pointer;\r\n  background-color: var(--color-bg);\r\n  border-radius: 10px;\r\n  padding: 10px;\r\n  padding-left: 0px;\r\n  /* transition: background-color 0.1s ease-out; */\r\n}\r\n.teacher_actions .teacher_action[disabled=\"true\"] {\r\n  cursor: not-allowed;\r\n  opacity: 0.5;\r\n}\r\n.teacher_actions .teacher_action[disabled=\"true\"] * {\r\n  pointer-events: none;\r\n}\r\n.teacher_actions .teacher_action:not([disabled=\"true\"]):hover {\r\n  background-color: var(--color-on-bg);\r\n}\r\n.teacher_actions .teacher_action:not(:first-child) {\r\n  margin-top: 15px;\r\n}\r\n.teacher_action__icon {\r\n  display: block;\r\n  flex-grow: 0;\r\n  flex-shrink: 0;\r\n  flex-basis: 40px;\r\n  height: 40px;\r\n  width: 40px;\r\n  background-size: 40px 40px;\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n  background-color: var(--color-on-bg);\r\n  border-radius: 10px;\r\n  margin-right: 10px;\r\n  scale: 0.9;\r\n  transition: scale 0.1s ease-out;\r\n}\r\n.teacher_actions .teacher_action:not([disabled=\"true\"]):hover .teacher_action__icon {\r\n  scale: 0.8;\r\n}\r\n.teacher_action__icon > * {\r\n  flex-shrink: 0;\r\n  filter: var(--filter-icon);\r\n}\r\n.icon__add {\r\n  background-image: url(\"@/assets/img/general/portal/actions/add.png\");\r\n  background-image: url(\"@/assets/img/general/portal/actions/add.svg\");\r\n}\r\n.icon__create {\r\n  background-image: url(\"@/assets/img/general/portal/actions/create.png\");\r\n  background-image: url(\"@/assets/img/general/portal/actions/create.svg\");\r\n}\r\n</style>\r\n","import { render } from \"./ActionsPanel.vue?vue&type=template&id=9a846a62\"\nimport script from \"./ActionsPanel.vue?vue&type=script&lang=js\"\nexport * from \"./ActionsPanel.vue?vue&type=script&lang=js\"\n\nimport \"./ActionsPanel.vue?vue&type=style&index=0&id=9a846a62&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\sande\\\\Documents\\\\GitHub\\\\mvtime.github.io\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./LeftBar.vue?vue&type=template&id=5b1969ec&scoped=true\"\nimport script from \"./LeftBar.vue?vue&type=script&lang=js\"\nexport * from \"./LeftBar.vue?vue&type=script&lang=js\"\n\nimport \"./LeftBar.vue?vue&type=style&index=0&id=5b1969ec&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\sande\\\\Documents\\\\GitHub\\\\mvtime.github.io\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5b1969ec\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"right-bar portal_sidebar\" :class=\"{ active: sidebar_open }\" @click=\"show_if_inactive\">\r\n    <div class=\"sidebar_overflow\">\r\n      <div class=\"sidebar_first_block\">\r\n        <div class=\"linked_acc_icon\" v-if=\"store && store.personal_account\">\r\n          <img\r\n            class=\"linked_acc_icon__img\"\r\n            width=\"24\"\r\n            height=\"24\"\r\n            src=\"@/assets/img/general/user-linked.png\"\r\n            alt=\"Linked Account\"\r\n          />\r\n        </div>\r\n        <div class=\"auth_logout auth-action can-logout doprompt\">Log Out</div>\r\n      </div>\r\n      <div class=\"flex_spacer\"></div>\r\n      <UpcomingTasks :loading=\"loading\" />\r\n      <div class=\"flex_spacer\"></div>\r\n    </div>\r\n    <button\r\n      class=\"settings_button click-action\"\r\n      title=\"Settings\"\r\n      @click=\"$router.push({ name: 'settings', query: $route.query })\"\r\n    >\r\n      <div class=\"settings_icon\"></div>\r\n    </button>\r\n    <SidebarToggle @click=\"close_sidebar\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport SidebarToggle from \"@/components/Portal/SidebarToggle.vue\";\r\nimport UpcomingTasks from \"@/components/Portal/UpcomingTasks.vue\";\r\nimport { useMainStore } from \"@/store\";\r\nexport default {\r\n  name: \"RightBar\",\r\n  components: {\r\n    SidebarToggle,\r\n    UpcomingTasks,\r\n  },\r\n  props: {\r\n    paged: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n  },\r\n  emits: [\"close_left_bar\", \"mounted\"],\r\n  data() {\r\n    return {\r\n      sidebar_open: false,\r\n      loading: true,\r\n    };\r\n  },\r\n  computed: {\r\n    store() {\r\n      return useMainStore();\r\n    },\r\n  },\r\n  mounted() {\r\n    this.$emit(\"mounted\");\r\n    window.addEventListener(\"resize\", this.close_sidebar);\r\n  },\r\n  unmounted() {\r\n    window.removeEventListener(\"resize\", this.close_sidebar);\r\n  },\r\n\r\n  methods: {\r\n    show_if_inactive() {\r\n      if (!this.sidebar_open) this.sidebar_open = true;\r\n      // emit event to close left bar\r\n      this.$emit(\"close_left_bar\");\r\n    },\r\n    close_sidebar() {\r\n      if (this.sidebar_open) setTimeout(() => (this.sidebar_open = false), 10);\r\n    },\r\n    load() {\r\n      this.loading = false;\r\n    },\r\n  },\r\n  watch: {\r\n    paged() {\r\n      if (this.paged) this.sidebar_open = true;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.sidebar_first_block {\r\n  display: flex;\r\n  flex-flow: row nowrap;\r\n  align-items: center;\r\n  justify-content: stretch;\r\n  margin-bottom: var(--padding-sidebar);\r\n  gap: 5px;\r\n}\r\n/* display image at 24x24px size */\r\n.linked_acc_icon {\r\n  flex: 0 0 30px;\r\n  height: 30px;\r\n  width: 30px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n.auth_logout {\r\n  flex: 1 1 auto;\r\n}\r\n.right-bar {\r\n  border-radius: var(--radius-sidebar) 0 0 var(--radius-sidebar);\r\n}\r\n.can-logout {\r\n  height: 30px;\r\n  font-size: 18px;\r\n  line-height: 30px;\r\n  color: var(--color-text);\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  user-select: none;\r\n}\r\n.can-logout::after {\r\n  content: \"\";\r\n  height: 30px;\r\n  width: 30px;\r\n  display: inline-block;\r\n  filter: var(--filter-icon);\r\n  background-image: url(@/assets/img/general/portal/logout.png);\r\n  background-image: url(@/assets/img/general/portal/logout.svg);\r\n  background-repeat: no-repeat;\r\n  background-size: contain;\r\n  background-position: right center;\r\n}\r\n@media (min-width: /* [desktop size] */ 1270px) and (max-height: 1200px) {\r\n  main.portal .portal_sidebar {\r\n    border-left: 3px solid var(--color-on-bg);\r\n  }\r\n}\r\n@media (max-width: /* [desktop size] */ 1270px) {\r\n  main.portal .portal_sidebar {\r\n    transform: translate(calc(100% - 15px));\r\n  }\r\n  main.portal .portal_sidebar:hover {\r\n    transform: translate(calc(100% - 25px));\r\n  }\r\n  /* prevent accidental clicks when hovering over collapsed sidebar */\r\n  main.portal .portal_sidebar:not(.active):not(.paged) * {\r\n    pointer-events: none !important;\r\n    user-select: none !important;\r\n  }\r\n}\r\n\r\n/* info icon */\r\n.settings_button {\r\n  position: absolute;\r\n  display: block;\r\n  bottom: calc(var(--padding-sidebar) / 1.5);\r\n  right: calc(var(--padding-sidebar) / 1.5);\r\n  height: var(--size-sidebar-button);\r\n  width: var(--size-sidebar-button);\r\n  cursor: pointer;\r\n  z-index: 1;\r\n  border-radius: calc(var(--radius-sidebar) - var(--padding-sidebar) / 3);\r\n  border: none;\r\n  background-color: var(--color-on-bg);\r\n  padding: 0;\r\n}\r\n.settings_icon {\r\n  height: 100%;\r\n  width: 100%;\r\n  filter: var(--filter-icon);\r\n  background-image: url(@/assets/img/general/portal/settings.png);\r\n  background-image: url(@/assets/img/general/portal/settings.svg);\r\n  background-repeat: no-repeat;\r\n  background-size: contain;\r\n  background-position: center;\r\n  user-select: none;\r\n  pointer-events: none;\r\n}\r\n.sidebar_overflow::-webkit-scrollbar {\r\n  display: none;\r\n}\r\n.sidebar_overflow {\r\n  overflow-y: auto;\r\n  /* layout */\r\n  display: flex;\r\n  flex-flow: column nowrap;\r\n  width: 100%;\r\n  height: 100%;\r\n  padding: var(--padding-sidebar);\r\n  padding-bottom: calc(var(--padding-sidebar) + var(--height-sidebar-action));\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"upcoming_tasks\">\r\n    <div v-if=\"(tasks && tasks.length) || loading\" class=\"upcoming_tasks__not_empty\">\r\n      <h5>\r\n        <router-link :to=\"{ name: 'study' }\" class=\"upcoming_tasks__title\">Upcoming</router-link>\r\n      </h5>\r\n      <hr class=\"upcoming_tasks_hr\" />\r\n      <transition-group\r\n        class=\"tasks_container\"\r\n        v-if=\"tasks && tasks.length\"\r\n        name=\"upcoming-group\"\r\n        tag=\"div\"\r\n      >\r\n        <ExamCard\r\n          class=\"tasks_container_task\"\r\n          v-for=\"task of tasks\"\r\n          :task=\"task\"\r\n          :key=\"task.ref\"\r\n          :href=\"`/view/${store.path_to_ref(task.ref)}`\"\r\n          target=\"_blank\"\r\n          @click=\"\r\n            $event.preventDefault();\r\n            show_task(task);\r\n          \"\r\n        />\r\n      </transition-group>\r\n      <img v-else class=\"loading_tasks loading_icon\" alt=\"Loading...\" />\r\n    </div>\r\n    <div v-else class=\"upcoming_tasks__empty\">\r\n      <h5>No Upcoming Tasks!</h5>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ExamCard from \"@/components/Portal/ExamCard.vue\";\r\nimport { useMainStore } from \"@/store\";\r\n\r\nexport default {\r\n  name: \"UpcomingTasks\",\r\n  props: {\r\n    loading: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n  },\r\n  components: {\r\n    ExamCard,\r\n  },\r\n  computed: {\r\n    store() {\r\n      return useMainStore();\r\n    },\r\n    tasks() {\r\n      return this.store.upcoming_todo.slice(0, 6);\r\n    },\r\n  },\r\n  methods: {\r\n    /** Show a task in the ViewTask ModalVue */\r\n    show_task(task) {\r\n      this.$router.push({\r\n        name: \"viewtask\",\r\n        params: {\r\n          // replace all slashes with ~ to avoid router issues\r\n          ref: this.store.path_to_ref(task.ref),\r\n        },\r\n        query: this.$route.query,\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n/* list transitions */\r\n.upcoming-group-move {\r\n  transition: transform 0.2s ease-out;\r\n}\r\n.upcoming-group-enter-active {\r\n  animation: slide-in 0.2s ease-out;\r\n}\r\n.upcoming-group-leave-active {\r\n  animation: slide-out 0.2s ease-out;\r\n}\r\n/* enter and leave animations */\r\n@keyframes slide-in {\r\n  0% {\r\n    scale: 0.8;\r\n    opacity: 0;\r\n    margin-bottom: -50px;\r\n  }\r\n  100% {\r\n    scale: 1;\r\n    opacity: 1;\r\n    margin-bottom: 0;\r\n  }\r\n}\r\n@keyframes slide-out {\r\n  0% {\r\n    scale: 1;\r\n    opacity: 1;\r\n    margin-bottom: 0;\r\n  }\r\n  100% {\r\n    scale: 0.8;\r\n    opacity: 0;\r\n    margin-bottom: -50px;\r\n  }\r\n}\r\n\r\n/* other styles */\r\n.tasks_container_task {\r\n  cursor: pointer;\r\n  user-select: none;\r\n  margin: 0;\r\n  transform-origin: top center;\r\n}\r\n.upcoming_tasks {\r\n  margin: auto 0;\r\n  width: 100%;\r\n  flex-grow: 1;\r\n  display: flex;\r\n  flex-flow: column nowrap;\r\n  align-items: stretch;\r\n  justify-content: center;\r\n  flex-basis: 200px;\r\n  flex-shrink: 1;\r\n}\r\n.tasks_container {\r\n  display: flex;\r\n  flex-flow: column nowrap;\r\n  gap: 10px;\r\n  margin-top: 10px;\r\n  max-height: calc(40px * 6 + 10px * 5);\r\n}\r\n.tasks_container_task {\r\n  flex: 0 0 40px;\r\n  height: 40px;\r\n}\r\n.upcoming_tasks__not_empty {\r\n  flex-shrink: 1;\r\n  padding-bottom: 40px;\r\n}\r\nh5 {\r\n  font-size: 17px;\r\n  font-weight: 600;\r\n  letter-spacing: 0.015rem;\r\n  line-height: 27px;\r\n  text-align: center;\r\n}\r\n.upcoming_tasks__title {\r\n  color: inherit;\r\n}\r\n.upcoming_tasks_hr {\r\n  margin: 5px 0;\r\n  border: none;\r\n  border-top: 2px solid var(--color-task-separator);\r\n}\r\n.loading_tasks {\r\n  min-width: 100%;\r\n  max-height: 150px;\r\n}\r\n</style>\r\n","import { render } from \"./UpcomingTasks.vue?vue&type=template&id=03b122e7&scoped=true\"\nimport script from \"./UpcomingTasks.vue?vue&type=script&lang=js\"\nexport * from \"./UpcomingTasks.vue?vue&type=script&lang=js\"\n\nimport \"./UpcomingTasks.vue?vue&type=style&index=0&id=03b122e7&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\sande\\\\Documents\\\\GitHub\\\\mvtime.github.io\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-03b122e7\"]])\n\nexport default __exports__","import { render } from \"./RightBar.vue?vue&type=template&id=25973996&scoped=true\"\nimport script from \"./RightBar.vue?vue&type=script&lang=js\"\nexport * from \"./RightBar.vue?vue&type=script&lang=js\"\n\nimport \"./RightBar.vue?vue&type=style&index=0&id=25973996&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\sande\\\\Documents\\\\GitHub\\\\mvtime.github.io\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-25973996\"]])\n\nexport default __exports__","<template>\r\n  <main class=\"study portal_main_block\">\r\n    <!-- use LoadingCover component when waiting for ready -->\r\n    <LoadingCover v-if=\"!is_ready\" class=\"study_loading\" covering=\"Study Tasks\" />\r\n    <div class=\"study_header portal_main_block_header\">\r\n      <div class=\"study_name portal_main_block_title\">\r\n        Upcoming<span class=\"desktop_only_text\">&nbsp;Assignments</span>\r\n      </div>\r\n      <div class=\"portal_main_block_actions_wrapper\">\r\n        <nav class=\"portal_main_block_actions portal_main_block_actions_freeform\">\r\n          <button\r\n            class=\"portal_main_block_action portal_main_block_action_freeform portal_main_block_action__text\"\r\n            @click=\"days = length[0]\"\r\n            :title=\"`${length[2]} (${length[3]})`\"\r\n            v-for=\"length in lengths\"\r\n            :key=\"length[0]\"\r\n            :class=\"{ active: days == length[0] }\"\r\n          >\r\n            {{ length[1] }}\r\n          </button>\r\n        </nav>\r\n        <button\r\n          class=\"portal_main_block_action portal_main_block_action_alt\"\r\n          title=\"View Calendar (c)\"\r\n          @click=\"swap_to_calendar\"\r\n        >\r\n          <div\r\n            class=\"action_icon cal-icon\"\r\n            :class=\"{ alt: store.upcoming && store.upcoming.length }\"\r\n          ></div>\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <transition-group\r\n      name=\"study-group\"\r\n      class=\"study_list_group\"\r\n      tag=\"div\"\r\n      :class=\"{ filtered: filtered_classes.length }\"\r\n    >\r\n      <div\r\n        class=\"study_list\"\r\n        v-for=\"list in arranged\"\r\n        :key=\"list[0].class_id\"\r\n        :style=\"{\r\n          '--color-class': classes[list[0].class_id].color,\r\n          '--color-class-alt': classes[list[0].class_id].color + '2d',\r\n        }\"\r\n      >\r\n        <a\r\n          class=\"study_list__name\"\r\n          :href=\"'/view/' + store.path_to_ref(classes[list[0].class_id].ref)\"\r\n        >\r\n          {{ list[0].class_name }}</a\r\n        >\r\n        <hr class=\"study_list__separator\" />\r\n        <transition-group class=\"study_list_tasks\" name=\"study-list\" tag=\"div\">\r\n          <div\r\n            class=\"study_list_task\"\r\n            v-for=\"task in list\"\r\n            :key=\"task.ref\"\r\n            :finished=\"is_finished(task.ref)\"\r\n          >\r\n            <label\r\n              :for=\"task.ref\"\r\n              class=\"study_list_task_checkbox\"\r\n              :title=\"'Mark task as ' + (is_finished(task.ref) ? 'unfinished' : 'finished')\"\r\n              @click=\"toggle_finished(task.ref)\"\r\n            >\r\n              <div class=\"study_list_task_checkbox__fixed\">\r\n                <span class=\"study_list_task_checkbox__dot\"></span>\r\n              </div>\r\n            </label>\r\n            <a\r\n              class=\"study_list_task__name study_list_task__boxed\"\r\n              :for=\"task.ref\"\r\n              @click=\"\r\n                $emit('taskclick', task);\r\n                $event.preventDefault();\r\n              \"\r\n              :href=\"'/view/' + store.path_to_ref(task.ref)\"\r\n            >\r\n              <span class=\"study_list_task__name__text\">{{ prefixed_name(task) }}</span>\r\n            </a>\r\n            <span class=\"study_list_task__date study_list_task__boxed\">{{\r\n              (task.date &&\r\n                task.date.toLocaleDateString(undefined, { month: \"numeric\", day: \"numeric\" })) ||\r\n              \"Invalid Date\"\r\n            }}</span>\r\n          </div>\r\n        </transition-group>\r\n      </div>\r\n    </transition-group>\r\n  </main>\r\n</template>\r\n\r\n<script>\r\nimport \"@/assets/style/portal_main.css\";\r\nimport { useMainStore } from \"@/store\";\r\nimport LoadingCover from \"@/components/LoadingCover.vue\";\r\nimport { _status } from \"@/common\";\r\nimport { useShortcuts } from \"@/store/shortcuts\";\r\nexport default {\r\n  name: \"StudyBlock\",\r\n  components: {\r\n    LoadingCover,\r\n  },\r\n  props: {\r\n    filtered_classes: { Array, default: () => [] },\r\n  },\r\n  emits: [\"taskclick\", \"mounted\"],\r\n  data() {\r\n    return {\r\n      tasks: [],\r\n      is_ready: false,\r\n      days: 7,\r\n      lengths: [\r\n        [1, \"Day\", \"Tasks today\", \"d\"],\r\n        [7, \"Week\", \"Tasks in the next week\", \"w\"],\r\n        [31, \"Month\", \"Tasks in the next month\", \"m\"],\r\n        [Number.MAX_SAFE_INTEGER, \"All\", \"All upcoming tasks\", \"a\"],\r\n      ],\r\n      prefixes: {\r\n        note: \"\",\r\n        task: \"Complete \",\r\n        // socratic: \"\",\r\n        test: \"Study for \",\r\n        // summative: \"\",\r\n        // midterm: \"\",\r\n        project: \"Prepare \",\r\n        quiz: \"Study for \",\r\n        exam: \"Study for \",\r\n      },\r\n    };\r\n  },\r\n  mounted() {\r\n    _status.log(\"ðŸ‘“ Study page mounted\");\r\n    this.$emit(\"mounted\");\r\n    this.tasks = this.store.tasks;\r\n    window.addEventListener(\"keydown\", this.handle_key);\r\n    useShortcuts().register_all(this.shortcuts, \"Study Portal\");\r\n  },\r\n  beforeUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handle_key);\r\n    useShortcuts().remove_tag(\"Study Portal\");\r\n  },\r\n  computed: {\r\n    shortcuts() {\r\n      return [\r\n        {\r\n          key: \"c\",\r\n          description: \"Swap to calendar\",\r\n          top: true,\r\n        },\r\n        ...this.lengths.map((item) => {\r\n          return {\r\n            key: item[3],\r\n            description: `View ${item[1].toLowerCase()} tasks`,\r\n          };\r\n        }),\r\n      ];\r\n    },\r\n    store() {\r\n      return useMainStore();\r\n    },\r\n    classes() {\r\n      // turn classes array into an object with class_id as key\r\n      let classes = {};\r\n      for (let class_obj of this.store.classes) {\r\n        classes[class_obj.id] = class_obj;\r\n      }\r\n      return classes;\r\n    },\r\n    filtered_tasks() {\r\n      // select tasks that are in the filtered classes, and within the selected time period\r\n      let filtered = this.tasks?.filter(\r\n        (task) => !this.filtered_classes.length || this.filtered_classes.includes(task.class_id)\r\n      );\r\n      const now = Date.now();\r\n      // 16 hours in ms (show today's tasks as upcoming until 4PM)\r\n      const morning = 16 * 60 * 60 * 1000;\r\n\r\n      filtered = filtered\r\n        .filter((task) => {\r\n          const diff = task?.date?.getTime ? task.date.getTime() : 0;\r\n          return (\r\n            task.type != \"note\" &&\r\n            diff >= now - morning &&\r\n            diff <= now + this.days * 24 * 60 * 60 * 1000\r\n          );\r\n        })\r\n        .sort((a, b) => {\r\n          if (a.date < b.date) return -1;\r\n          if (a.date > b.date) return 1;\r\n          return 0;\r\n        });\r\n\r\n      // sort those with is_finished = false to the top\r\n      filtered.sort((a, b) => {\r\n        let a_finished = this.store.finished_tasks.includes(a.ref);\r\n        let b_finished = this.store.finished_tasks.includes(b.ref);\r\n        if (a_finished && !b_finished) return 1;\r\n        if (!a_finished && b_finished) return -1;\r\n        return 0;\r\n      });\r\n      return filtered;\r\n    },\r\n    arranged() {\r\n      // sort tasks into an array of arrays, where each array is a class and its tasks are sorted by date\r\n      let tasks = this.filtered_tasks;\r\n      let arranged = {};\r\n      for (let task of tasks) {\r\n        if (!arranged[task.class_id]) arranged[task.class_id] = [];\r\n        arranged[task.class_id].push(task);\r\n      }\r\n      // create an array of arrays, order by the period value of each class\r\n      let arranged_array = [];\r\n      for (let class_id in arranged) {\r\n        arranged_array.push(arranged[class_id]);\r\n      }\r\n      arranged_array.sort((a, b) => {\r\n        let a_class = this.classes[a[0].class_id];\r\n        let b_class = this.classes[b[0].class_id];\r\n        return a_class.period - b_class.period;\r\n      });\r\n      return arranged_array;\r\n    },\r\n  },\r\n  methods: {\r\n    handle_key(event) {\r\n      if (event.ctrlKey || this.$route.name != \"study\") return;\r\n      if (event.key == \"c\") {\r\n        this.swap_to_calendar();\r\n      } else {\r\n        let length = this.lengths.find((item) => item[3] == event.key);\r\n        if (length) {\r\n          this.days = length[0];\r\n        }\r\n      }\r\n    },\r\n    prefixed_name(task) {\r\n      return this.prefixes[task.type] + task.name;\r\n    },\r\n    swap_to_calendar() {\r\n      this.$router.push({ name: \"portal\", query: this.$route.query });\r\n    },\r\n    run_get_tasks() {\r\n      this.tasks = this.store.tasks;\r\n      this.is_ready = true;\r\n    },\r\n    is_finished(ref) {\r\n      return this.store.finished_tasks.includes(ref);\r\n    },\r\n    toggle_finished(ref) {\r\n      this.store\r\n        .set_finished(!this.is_finished(ref), ref)\r\n        .then(() => {\r\n          _status.log(\"ðŸ“¦ Task completion status set\");\r\n        })\r\n        .catch((err) => {\r\n          _status.error(\"ðŸ”¥ Couldn't set task finished\", err);\r\n        });\r\n    },\r\n  },\r\n  // watch for store.classes change\r\n  watch: {\r\n    \"store.classes\": {\r\n      handler(a, b) {\r\n        if (a.length != b.length && this.is_ready) {\r\n          _status.log(\"ðŸ“¦ Classes array length changed, calendar updating tasks\");\r\n          this.store\r\n            .fetch_classes()\r\n            .then(() => {\r\n              this.run_get_tasks();\r\n            })\r\n            .catch((err) => {\r\n              _status.error(\"ðŸ”¥ Couldn't fetch classes\", err);\r\n            });\r\n        }\r\n      },\r\n      deep: true,\r\n    },\r\n    \"store.tasks\": {\r\n      handler() {\r\n        this.tasks = this.store.tasks;\r\n      },\r\n      deep: true,\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* list animations */\r\n.study-group-move,\r\n.study_list:not(.study-group-move) .study-list-move {\r\n  transition: transform 0.2s ease-out;\r\n}\r\n.study-group-enter-active {\r\n  animation: scale-in 0.15s ease-out;\r\n}\r\n.study-group-leave-active {\r\n  animation: scale-out 0.15s ease-in;\r\n  /* transform-origin: left center; */\r\n}\r\n.parent.simplified .study_list_group * {\r\n  transition: none !important;\r\n  animation: none !important;\r\n}\r\n/* enter and leave animations */\r\n@keyframes scale-in {\r\n  0% {\r\n    scale: 0.9;\r\n    opacity: 0;\r\n  }\r\n  100% {\r\n    scale: 1;\r\n    opacity: 1;\r\n  }\r\n}\r\n@keyframes scale-out {\r\n  0% {\r\n    scale: 1;\r\n    opacity: 1;\r\n  }\r\n  100% {\r\n    scale: 0.8;\r\n    opacity: 0;\r\n  }\r\n}\r\n/* main */\r\n.study_name {\r\n  max-width: fit-content;\r\n}\r\n.study_list_group:empty::before {\r\n  content: \"No upcoming tasks found\";\r\n  color: var(--text-color);\r\n  font-weight: 500;\r\n  opacity: 0.5;\r\n  text-align: center;\r\n  width: 100%;\r\n  height: 100%;\r\n  padding-bottom: calc(var(--padding-calendar) * 0.5 + var(--size-calendar-header));\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n.study_list_group.filtered:empty::before {\r\n  content: \"No upcoming tasks found in selected classes\";\r\n}\r\n\r\n.study_list_group:not(:empty) {\r\n  display: flex;\r\n  align-content: flex-start;\r\n  justify-content: flex-start;\r\n  flex-flow: column wrap;\r\n  gap: 10px;\r\n  max-height: 450px;\r\n  height: 70vh;\r\n  overflow-y: auto;\r\n}\r\n.study_list_group:not(:empty)::-webkit-scrollbar-corner {\r\n  display: none;\r\n}\r\n.study_list_group:not(:empty)::-webkit-scrollbar {\r\n  background: var(--color-calendar);\r\n}\r\n\r\n.study_list_group:not(:empty)::-webkit-scrollbar-thumb {\r\n  width: 8px;\r\n  height: 8px;\r\n  background: var(--color-calendar-header);\r\n  border-radius: 10px;\r\n  border: 4px solid var(--color-calendar);\r\n}\r\n\r\n.study_list_group:empty {\r\n  max-height: 70vh;\r\n  height: 450px;\r\n}\r\n\r\n.study_list {\r\n  color: var(--color-class);\r\n  background-color: var(--color-class-alt);\r\n  padding: var(--padding-study-class);\r\n  border-radius: var(--radius-calendar-day);\r\n  display: flex;\r\n  flex-flow: column nowrap;\r\n  gap: var(--gap-study-class);\r\n  flex: 1 1 160px;\r\n  width: 50%;\r\n  max-width: 300px;\r\n}\r\n.study_list .study_list__name {\r\n  font-size: 0.8rem;\r\n  font-weight: 600;\r\n  color: var(--color-class);\r\n}\r\n.study_list hr.study_list__separator {\r\n  border: 0;\r\n  height: 2px;\r\n  background-color: var(--color-class);\r\n  opacity: 0.5;\r\n  margin: 0;\r\n}\r\n.study_list_tasks {\r\n  display: flex;\r\n  flex-flow: column nowrap;\r\n  gap: 10px;\r\n}\r\n.study_list_tasks .study_list_task {\r\n  display: flex;\r\n  flex-flow: row nowrap;\r\n  align-items: stretch;\r\n}\r\n\r\n.study_list_tasks .study_list_task .study_list_task_checkbox {\r\n  height: var(--height-calendar-task);\r\n  opacity: 0;\r\n  width: 0;\r\n  scale: 0;\r\n  transform-origin: center center;\r\n  flex-shrink: 0;\r\n  flex-grow: 0;\r\n  border-radius: 5px;\r\n  transition: width 0.15s ease-in-out, opacity 0.125s 0.025s ease-in-out, scale 0.15s ease-in-out;\r\n  display: flex;\r\n  flex-flow: row nowrap;\r\n  justify-content: center;\r\n  align-items: center;\r\n  cursor: pointer;\r\n  overflow: hidden;\r\n  position: relative;\r\n}\r\n\r\n.study_list_task_checkbox .study_list_task_checkbox__fixed {\r\n  height: var(--height-calendar-task);\r\n  min-width: var(--height-calendar-task);\r\n  display: flex;\r\n  position: relative;\r\n}\r\n\r\n.study_list_task_checkbox__dot {\r\n  border-radius: 5px;\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  height: 80%;\r\n  width: 80%;\r\n  opacity: 0.75;\r\n  background-color: var(--color-class);\r\n  transition: width 0.15s ease-in-out, height 0.15s ease-in-out, opacity 0.15s ease-in-out,\r\n    border-radius 0.15s ease-in-out;\r\n}\r\n/* active state */\r\n.study_list_task[finished=\"true\"] .study_list_task_checkbox__dot {\r\n  border-radius: var(--height-calendar-task);\r\n  height: 8px;\r\n  width: 8px;\r\n  opacity: 0.4;\r\n}\r\n\r\n.study_list_task[finished=\"true\"]\r\n  .study_list_task_checkbox__fixed:hover:not(.study-list-move)\r\n  .study_list_task_checkbox__dot {\r\n  opacity: 0.6;\r\n}\r\n\r\n.study_list_task_checkbox__fixed:hover:not(.study-list-move) .study_list_task_checkbox__dot {\r\n  height: 12px;\r\n  width: 12px;\r\n  border-radius: 4px;\r\n}\r\n\r\n.study_list_tasks .study_list_task .study_list_task__boxed {\r\n  white-space: nowrap;\r\n  flex: 1 1 auto;\r\n  overflow: hidden;\r\n  text-overflow: clip;\r\n  position: relative;\r\n  font-size: 0.8rem;\r\n  font-weight: 600;\r\n  border-radius: 5px;\r\n  height: var(--height-calendar-task);\r\n  display: flex;\r\n  flex-flow: row nowrap;\r\n  justify-content: center;\r\n  align-items: center;\r\n  transition: margin-left 0.15s ease-in-out, padding 0.15s ease-in-out, width 0.15s ease-out,\r\n    opacity 0.15s ease-out;\r\n}\r\n\r\n.study_list_tasks .study_list_task .study_list_task__date {\r\n  margin-left: var(--gap-study-checkbox);\r\n  flex-shrink: 0;\r\n  flex-grow: 0;\r\n  width: 4em;\r\n  opacity: 0.6;\r\n  user-select: none;\r\n  cursor: default;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-align: center;\r\n  text-overflow: clip;\r\n}\r\n\r\n.study_list_tasks .study_list_task[finished=\"true\"] .study_list_task__boxed.study_list_task__date {\r\n  opacity: 0;\r\n  padding: var(--padding-calendar-task) 0;\r\n  width: 0;\r\n  margin-left: 0;\r\n}\r\n\r\n.study_list_tasks .study_list_task .study_list_task__name {\r\n  cursor: pointer;\r\n}\r\n\r\n.study_list_tasks .study_list_task .study_list_task__name .study_list_task__name__text {\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n  max-width: 100%;\r\n  display: inline-block;\r\n}\r\n.study_list_tasks .study_list_task:not([finished=\"true\"]) .study_list_task__boxed {\r\n  filter: var(--filter-calendar-task);\r\n  padding: var(--padding-calendar-task);\r\n  color: var(--color-on-calendar-task);\r\n  background-color: var(--color-class);\r\n}\r\n.study_list_tasks .study_list_task[finished=\"true\"] .study_list_task__boxed {\r\n  text-decoration: line-through;\r\n  filter: var(--filter-calendar-task);\r\n  padding: var(--padding-calendar-task);\r\n  color: var(--color-class);\r\n  opacity: 0.5;\r\n}\r\n\r\n/* hover and mobile */\r\n.study_list_task:hover:not(.study-list-move) .study_list_task_checkbox {\r\n  width: var(--height-calendar-task);\r\n  opacity: 1;\r\n  scale: 1;\r\n}\r\n\r\n.study_list_tasks .study_list_task:hover:not(.study-list-move) .study_list_task__boxed {\r\n  margin-left: var(--gap-study-checkbox);\r\n}\r\n\r\n@media (max-width: 630px) {\r\n  .study_list_group {\r\n    padding: var(--spacing-calendar-day);\r\n  }\r\n  .study_list_tasks .study_list_task .study_list_task_checkbox {\r\n    width: var(--height-calendar-task);\r\n    opacity: 1;\r\n    scale: 1;\r\n  }\r\n\r\n  .study_list_tasks .study_list_task .study_list_task__boxed {\r\n    margin-left: var(--gap-study-checkbox);\r\n  }\r\n  .study_list_group:not(:empty) {\r\n    display: flex;\r\n    flex-flow: column nowrap;\r\n    gap: 10px;\r\n    max-height: unset;\r\n    height: auto;\r\n  }\r\n  .study_list {\r\n    flex: 1 1 auto;\r\n    max-width: unset;\r\n    width: 100%;\r\n  }\r\n  @media (max-width: 450px) {\r\n    .portal_main_block_title.study_name {\r\n      display: none;\r\n    }\r\n  }\r\n}\r\n@media (max-width: /* [desktop size] */ 1270px) and (min-width: 600px) {\r\n  .study_list {\r\n    max-width: 33.33%;\r\n    min-height: 120px;\r\n    flex-basis: auto;\r\n    flex-shrink: 0;\r\n  }\r\n}\r\n@media (max-width: 800px) and (min-width: 600px) {\r\n  .study_list_group:not(:empty) {\r\n    flex-flow: row wrap;\r\n  }\r\n  .study_list {\r\n    flex-basis: 33.33%;\r\n    max-width: calc(50% - 5px);\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"loading_cover\" :title=\"'Loading ' + covering\">\r\n    <div class=\"loading_cover__overlay\"></div>\r\n    <div class=\"loading_cover__content\">\r\n      <div class=\"loading_cover__content__icon\">\r\n        <img class=\"loading_icon\" />\r\n      </div>\r\n      <slot />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"LoadingCover\",\r\n  props: {\r\n    covering: {\r\n      type: String,\r\n      default: \"Content\",\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.loading_cover {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  z-index: 1;\r\n  display: flex;\r\n  flex-flow: column nowrap;\r\n  align-items: center;\r\n  justify-content: center;\r\n  pointer-events: all;\r\n  cursor: wait;\r\n  z-index: 10;\r\n  box-sizing: border-box;\r\n}\r\n.loading_cover__overlay {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: var(--color-loading-overlay, var(--color-overlay));\r\n  backdrop-filter: var(--bg-filter-loading);\r\n  z-index: 2047;\r\n}\r\n.parent.simplified .loading_cover__overlay {\r\n  background-color: var(--color-calendar);\r\n}\r\n.loading_cover__content {\r\n  z-index: 2048;\r\n}\r\n.loading_cover__content__text {\r\n  font-size: 1.5rem;\r\n  font-weight: 500;\r\n  color: var(--color-overlay-text);\r\n  text-align: center;\r\n  margin-top: 1rem;\r\n  width: 100%;\r\n}\r\n\r\ncircle {\r\n  fill: var(--color-loading-dot);\r\n  r: var(--dot-size, 3px);\r\n}\r\n\r\n.loading_cover__content,\r\n.loading_cover {\r\n  display: flex;\r\n  flex-flow: column nowrap;\r\n  align-items: stretch;\r\n  justify-content: stretch;\r\n  height: 100%;\r\n}\r\n.loading_cover__content__icon {\r\n  display: flex;\r\n  flex-flow: row nowrap;\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex-grow: 1;\r\n}\r\n</style>\r\n","import { render } from \"./LoadingCover.vue?vue&type=template&id=523271bf&scoped=true\"\nimport script from \"./LoadingCover.vue?vue&type=script&lang=js\"\nexport * from \"./LoadingCover.vue?vue&type=script&lang=js\"\n\nimport \"./LoadingCover.vue?vue&type=style&index=0&id=523271bf&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\sande\\\\Documents\\\\GitHub\\\\mvtime.github.io\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-523271bf\"]])\n\nexport default __exports__","import { render } from \"./StudyBlock.vue?vue&type=template&id=2d726903&scoped=true\"\nimport script from \"./StudyBlock.vue?vue&type=script&lang=js\"\nexport * from \"./StudyBlock.vue?vue&type=script&lang=js\"\n\nimport \"./StudyBlock.vue?vue&type=style&index=0&id=2d726903&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\sande\\\\Documents\\\\GitHub\\\\mvtime.github.io\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2d726903\"]])\n\nexport default __exports__","<template>\r\n  <main\r\n    class=\"calendar portal_main_block\"\r\n    @drag=\"check_leave\"\r\n    :class=\"{ calendar_fullpage: fullpage }\"\r\n  >\r\n    <!-- use LoadingCover component when waiting for ready -->\r\n    <LoadingCover v-if=\"!is_ready\" class=\"calendar_loading\" covering=\"Calendar Tasks\" />\r\n    <!-- calendar content -->\r\n    <div class=\"calendar_header portal_main_block_header\">\r\n      <div class=\"portal_main_block_header__left\">\r\n        <button\r\n          class=\"portal_main_block_action portal_main_block_action_alt fullpage_toggle_button\"\r\n          @click=\"toggle_fullscreen\"\r\n          title=\"Toggle fullscreen (f)\"\r\n        >\r\n          <div class=\"action_icon expand-icon\" :class=\"{ alt: fullpage }\"></div>\r\n        </button>\r\n        <div\r\n          class=\"calendar_date portal_main_block_title\"\r\n          :title=\"\r\n            'Currently viewing ' +\r\n            loaded_month.toLocaleDateString(undefined, { month: 'long', year: 'numeric' })\r\n          \"\r\n        >\r\n          {{ loaded_month.toLocaleDateString(\"en-US\", { month: \"long\", year: \"numeric\" }) }}\r\n        </div>\r\n      </div>\r\n      <div class=\"portal_main_block_actions_wrapper\">\r\n        <nav class=\"portal_main_block_actions\">\r\n          <button\r\n            class=\"portal_main_block_action\"\r\n            @click=\"prev_month\"\r\n            title=\"Previous month (Left)\"\r\n          >\r\n            <div class=\"action_icon arrow-icon left\"></div>\r\n          </button>\r\n          <button class=\"portal_main_block_action\" @click=\"this_month\" title=\"Current month (Home)\">\r\n            <div class=\"action_icon cal-icon\" :class=\"{ alt: tasks && tasks.length }\"></div>\r\n          </button>\r\n          <button class=\"portal_main_block_action\" @click=\"next_month\" title=\"Next month (Right)\">\r\n            <div class=\"action_icon arrow-icon right\"></div>\r\n          </button>\r\n        </nav>\r\n        <button\r\n          class=\"portal_main_block_action portal_main_block_action_alt\"\r\n          v-if=\"!store.is_teacher || true\"\r\n          @click=\"swap_to_study\"\r\n          title=\"View study portal (s)\"\r\n        >\r\n          <div\r\n            class=\"action_icon todo-icon\"\r\n            :class=\"{ alt: store.upcoming_todo && store.upcoming_todo.length }\"\r\n          ></div>\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <div\r\n      class=\"calendar_days_container hidescroll\"\r\n      :style=\"{\r\n        '--color-dragging': (drag.task && drag.task.color) || (drag.class && drag.class.color),\r\n        '--color-dragging-alt':\r\n          (drag.task && drag.task.color) || (drag.class && drag.class.color)\r\n            ? ((drag.task && drag.task.color) || (drag.class && drag.class.color)) + '80'\r\n            : null,\r\n      }\"\r\n    >\r\n      <div\r\n        class=\"calendar_days\"\r\n        ref=\"calendar_days\"\r\n        :class=\"{\r\n          calendar_days__current: day_matches(loaded_month, new Date(new Date().setDate(1))),\r\n          calendar_days__changed: is_changed,\r\n        }\"\r\n      >\r\n        <!-- v-for tasks -->\r\n        <div\r\n          class=\"calendar_day calendar_day__weekday_label\"\r\n          v-for=\"day of [\r\n            'Sunday',\r\n            'Monday',\r\n            'Tuesday',\r\n            'Wednesday',\r\n            'Thursday',\r\n            'Friday',\r\n            'Saturday',\r\n          ]\"\r\n          :key=\"day\"\r\n        >\r\n          <span class=\"calendar_day__weekday_label__text\">{{ day }}</span>\r\n        </div>\r\n        <div\r\n          class=\"calendar_day\"\r\n          :_date=\"day.date.toISOString().split('T')[0]\"\r\n          :class=\"{\r\n            calendar_day__placeholder: day.is_placeholder && !store.simplified,\r\n            calendar_day__hastask: day.tasks ? day.tasks.length : false,\r\n            calendar_day__today: day.is_today,\r\n            calendar_day__past: day.is_past,\r\n            calendar_day__drag_to: drag.to == day.date,\r\n            calendar_day__drag_class_to: drag.to == day.date && drag.class,\r\n            calendar_day__drag_from: drag.from == day.date,\r\n          }\"\r\n          @dragover=\"drag_over(day.date)\"\r\n          v-for=\"day of days\"\r\n          :key=\"day.date\"\r\n        >\r\n          <div\r\n            class=\"calendar_day_date\"\r\n            :class=\"{ 'click-action': store.is_teacher }\"\r\n            @click=\"\r\n              if (store.is_teacher) {\r\n                $router.push({\r\n                  name: 'newtask',\r\n                  query: {\r\n                    date: format_date(day.date),\r\n                    ...this.$route.query,\r\n                  },\r\n                });\r\n              }\r\n            \"\r\n          >\r\n            <span class=\"calendar_day_date__short\"> {{ day.date.getDate() }}</span>\r\n            <span class=\"calendar_day_date__long\" style=\"display: none\">\r\n              {{\r\n                day.date.toLocaleDateString(\"en-US\", {\r\n                  weekday: \"long\",\r\n                  month: \"long\",\r\n                  day: \"numeric\",\r\n                })\r\n              }}\r\n            </span>\r\n          </div>\r\n          <div class=\"calendar_day_tasks\">\r\n            <a\r\n              class=\"calendar_day_task click-action\"\r\n              :class=\"{\r\n                calendar_day_task__dragging: drag.task == task,\r\n                calendar_day_task__loading: drag.task == task && drag.load,\r\n              }\"\r\n              v-for=\"task of day.tasks\"\r\n              :is_note=\"task.type === 'note'\"\r\n              :key=\"task.name\"\r\n              :title=\"task.name\"\r\n              :draggable=\"\r\n                task &&\r\n                store.is_teacher &&\r\n                store.user &&\r\n                task.ref.split('/')[0] == store.active_doc.email &&\r\n                $route.name != 'study'\r\n              \"\r\n              @dragstart=\"\r\n                drag = {\r\n                  task: task,\r\n                  from: day.date,\r\n                }\r\n              \"\r\n              @dragend=\"drag_drop\"\r\n              :style=\"{\r\n                '--color-calendar-task': task.color,\r\n                '--color-calendar-task-alt': task.color + '40',\r\n              }\"\r\n              :href=\"'/view/' + get_link(task.ref)\"\r\n              @click=\"\r\n                $event.preventDefault();\r\n                $emit('taskclick', task);\r\n              \"\r\n            >\r\n              <div\r\n                class=\"calendar_day_task_editable\"\r\n                v-if=\"\r\n                  task &&\r\n                  store.is_teacher &&\r\n                  store.user &&\r\n                  task.ref.split('/')[0] == store.active_doc.email\r\n                \"\r\n              >\r\n                <span class=\"task_icon task_edit__icon\" :class=\"{ loading_bg: drag.load }\"></span>\r\n              </div>\r\n              <span v-if=\"task.type === 'note'\">\r\n                <span class=\"calendar_day_task__swatch\"></span>\r\n                <span class=\"calendar_day_task__note\"> NOTE </span>\r\n              </span>\r\n              <span v-else>\r\n                {{ task.name }}\r\n              </span>\r\n            </a>\r\n          </div>\r\n        </div>\r\n        <div v-if=\"!tasks_loaded_month\" class=\"calendar__no_tasks\" style=\"display: none\">\r\n          Relax! No Tasks.\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </main>\r\n</template>\r\n\r\n<script>\r\nimport \"@/assets/style/portal_main.css\";\r\nimport { useMainStore } from \"@/store\";\r\nimport LoadingCover from \"@/components/LoadingCover.vue\";\r\nimport { _status, compatDateObj } from \"@/common\";\r\nimport { ErrorToast, SuccessToast } from \"@svonk/util\";\r\nimport { useShortcuts } from \"@/store/shortcuts\";\r\nexport default {\r\n  name: \"CalendarBlock\",\r\n  components: {\r\n    LoadingCover,\r\n  },\r\n  props: {\r\n    filtered_classes: { Array, default: () => [] },\r\n    dragging_class: { Object, default: () => null },\r\n  },\r\n  emits: [\"taskclick\", \"mounted\"],\r\n  data() {\r\n    return {\r\n      loaded_month: new Date(new Date().setDate(1)),\r\n      is_ready: false,\r\n      tasks: [],\r\n      is_changed: false,\r\n      drag: {},\r\n      shortcuts: [\r\n        {\r\n          key: \"f\",\r\n          description: \"Toggle fullscreen\",\r\n        },\r\n        {\r\n          key: \"s\",\r\n          description: \"Swap to study portal\",\r\n          top: true,\r\n        },\r\n        {\r\n          key: \"ArrowLeft\",\r\n          description: \"Previous month\",\r\n        },\r\n        {\r\n          key: \"ArrowRight\",\r\n          description: \"Next month\",\r\n        },\r\n        {\r\n          key: \"Home\",\r\n          description: \"Current month\",\r\n        },\r\n      ],\r\n    };\r\n  },\r\n  mounted() {\r\n    _status.log(\"ðŸ“… Calendar mounted\");\r\n    this.$emit(\"mounted\");\r\n    this.tasks = this.store.tasks;\r\n    window.addEventListener(\"keydown\", this.handle_key);\r\n    useShortcuts().register_all(this.shortcuts, \"Calendar\");\r\n  },\r\n  beforeUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handle_key);\r\n    useShortcuts().remove_tag(\"Calendar\");\r\n  },\r\n  methods: {\r\n    toggle_fullscreen() {\r\n      console.log(\"toggle_fullscreen\", this.fullpage);\r\n      // toggle fullpage mode (route.query.calendar)\r\n      const new_fullpage = !this.fullpage;\r\n      let query = { ...this.$route.query };\r\n      if (new_fullpage) query.calendar = true;\r\n      else delete query.calendar;\r\n\r\n      this.$router.push({\r\n        ...this.$route,\r\n        query: query,\r\n      });\r\n    },\r\n    handle_key(event) {\r\n      if (event.ctrlKey || this.$route.name != \"portal\") return;\r\n      if (!event.shiftKey) {\r\n        if (event.key == \"s\") this.swap_to_study();\r\n        else if (event.key == \"f\") this.toggle_fullscreen();\r\n      } else {\r\n        // use arrow keys for month navigation and home to return to current month, shift as modifier moves in years\r\n        const shift = event.shiftKey;\r\n        let action = () => {};\r\n        if (event.key == \"ArrowLeft\") {\r\n          action = this.prev_month;\r\n        } else if (event.key == \"ArrowRight\") {\r\n          action = this.next_month;\r\n        } else if (event.key == \"Home\") {\r\n          this.this_month();\r\n          return;\r\n        }\r\n        for (let i = 0; i < (shift ? 12 : 1); i++) {\r\n          action();\r\n        }\r\n      }\r\n    },\r\n    swap_to_study() {\r\n      this.$router.push({ name: \"study\", query: this.$route.query });\r\n    },\r\n    check_leave(e) {\r\n      // check if the mouse has left the calendar using drag event\r\n      try {\r\n        const rect = this.$refs.calendar_days.getBoundingClientRect();\r\n        if (\r\n          this.drag.to &&\r\n          (e.clientX || e.clientX) &&\r\n          (e.clientX < rect.left ||\r\n            e.clientX > rect.right ||\r\n            e.clientY < rect.top ||\r\n            e.clientY > rect.bottom)\r\n        ) {\r\n          this.drag.to = null;\r\n        }\r\n      } catch (err) {\r\n        _status.error(\"ðŸ”¥ Couldn't check if mouse left calendar\", err);\r\n      }\r\n    },\r\n    // drag:\r\n    drop_class() {\r\n      if (this.drag?.class && this.drag?.to) {\r\n        // open task add with class and date\r\n        _status.log(\"ðŸ“… Dropped class on calendar day\");\r\n        this.$router.push({\r\n          name: \"newtask\",\r\n          query: {\r\n            class: this.drag.class.id,\r\n            date: new Date(this.drag.to.getTime() - this.drag.to.getTimezoneOffset() * 60 * 1000)\r\n              .toISOString()\r\n              .split(\"T\")[0],\r\n            ...this.$route.query,\r\n          },\r\n        });\r\n      }\r\n      this.drag = {};\r\n    },\r\n    drag_over(date) {\r\n      if (this.drag.to != date) {\r\n        if (this.drag.class) {\r\n          this.drag.to = date;\r\n        } else {\r\n          this.drag.to = this.drag.to != this.drag.from ? date : null;\r\n        }\r\n      }\r\n    },\r\n    drag_drop() {\r\n      if (this.drag.to && this.drag.from && this.drag.to != this.drag.from && this.drag.task) {\r\n        // move task to new date\r\n        let to = this.drag.to;\r\n\r\n        this.drag.load = true;\r\n        this.drag.to = null;\r\n        this.store\r\n          .update_task(this.drag.task.ref, {\r\n            ...this.drag.task,\r\n            date: new Date(to - to.getTimezoneOffset() * 60 * 1000).toISOString().split(\"T\")[0],\r\n          })\r\n          .then(() => {\r\n            new SuccessToast(\r\n              `Moved ${this.drag.task.type} ${\r\n                this.drag.task.name ? '\"' + this.drag.task.name + '\" ' : \"\"\r\n              }to ${to.toLocaleDateString()}`,\r\n              2000\r\n            );\r\n            _status.log(\"ðŸ“… Moved task date\");\r\n            this.drag = {};\r\n          })\r\n          .catch((err) => {\r\n            new ErrorToast(\"Couldn't update task\", err, 2000);\r\n            _status.error(\"ðŸ”¥ Couldn't update task\", err);\r\n            this.drag = {};\r\n          });\r\n        // } else if (this.drag.to && this.drag.class) {\r\n        //   this.drop_class();\r\n      } else {\r\n        this.drag = {};\r\n      }\r\n    },\r\n\r\n    // non-drag:\r\n    format_date(date) {\r\n      // format date in yyyy-MM-dd for date input\r\n      return date.toISOString().split(\"T\")[0] || \"\";\r\n    },\r\n\r\n    day_matches(day1, day2) {\r\n      return (\r\n        day1.getDate() === day2.getDate() &&\r\n        day1.getMonth() === day2.getMonth() &&\r\n        day1.getFullYear() === day2.getFullYear()\r\n      );\r\n    },\r\n    get_day_tasks(day) {\r\n      return this.tasks\r\n        .filter((task) => {\r\n          const task_date = compatDateObj(task.date);\r\n          return (\r\n            this.day_matches(task_date, day) &&\r\n            (!this.filtered_classes.length || this.filtered_classes.includes(task.class_id))\r\n          );\r\n        })\r\n        .sort((a, b) => {\r\n          if (a.type == \"note\" && b.type != \"note\") return -1;\r\n        });\r\n    },\r\n    next_month() {\r\n      this.is_changed = true;\r\n      this.loaded_month = new Date(this.loaded_month.setMonth(this.loaded_month.getMonth() + 1));\r\n    },\r\n    this_month() {\r\n      let new_date = new Date(new Date().setDate(1));\r\n      if (this.day_matches(this.loaded_month, new_date)) {\r\n        this.is_changed = !this.is_changed;\r\n      }\r\n      this.loaded_month = new_date;\r\n    },\r\n    prev_month() {\r\n      this.is_changed = true;\r\n      this.loaded_month = new Date(this.loaded_month.setMonth(this.loaded_month.getMonth() - 1));\r\n    },\r\n    run_get_tasks() {\r\n      this.tasks = this.store.tasks;\r\n      this.is_ready = true;\r\n    },\r\n    get_link(ref) {\r\n      // replace all slashes with ~, and remove the part after @ in the part before the first slash\r\n      let [_email, _id, task_id] = ref.split(\"/\");\r\n      _email = _email.split(\"@\")[0];\r\n      return [_email, _id, task_id].join(\"~\");\r\n    },\r\n  },\r\n  computed: {\r\n    fullpage() {\r\n      return JSON.parse(this.$route.query.calendar || \"false\");\r\n    },\r\n    tasks_loaded_month() {\r\n      return this.tasks.some((task) => {\r\n        const task_date = compatDateObj(task.date);\r\n        return (\r\n          // get tasks from the current month and next month\r\n          true || task_date\r\n        );\r\n      });\r\n    },\r\n    store() {\r\n      return useMainStore();\r\n    },\r\n    days() {\r\n      const days = [];\r\n      const today = compatDateObj(new Date().toISOString().split(\"T\")[0]);\r\n      const this_date = this.loaded_month.getTime();\r\n      function get_this_date() {\r\n        return new Date(this_date);\r\n      }\r\n      const first_day = new Date(get_this_date().setDate(1));\r\n      const last_day = new Date(get_this_date().setMonth(get_this_date().getMonth() + 1, 0));\r\n\r\n      // add the placeholders for the first week\r\n      for (let i = first_day.getDay(); i > 0; i--) {\r\n        const preflow_day = new Date(get_this_date().setDate(-i));\r\n        days.push({\r\n          date: preflow_day,\r\n          tasks: this.get_day_tasks(preflow_day),\r\n          is_placeholder: true,\r\n          is_past: preflow_day.getTime() < today.getTime(),\r\n        });\r\n      }\r\n      // do normal days\r\n      for (let i = 1; i <= last_day.getDate(); i++) {\r\n        const month_day = new Date(get_this_date().setDate(i));\r\n        days.push({\r\n          date: month_day,\r\n          tasks: this.get_day_tasks(month_day),\r\n          is_today: this.day_matches(month_day, new Date()),\r\n          is_past: month_day.getTime() < today.getTime(),\r\n        });\r\n      }\r\n\r\n      // add however many placeholders we need to get to a full 6 * 7 grid\r\n      for (let i = 1; days.length < 6 * 7; i++) {\r\n        const overflow_day = new Date(get_this_date().setDate(last_day.getDate() + i));\r\n        days.push({\r\n          date: overflow_day,\r\n          tasks: this.get_day_tasks(overflow_day),\r\n          is_placeholder: true,\r\n          is_past: overflow_day.getTime() < today.getTime(),\r\n        });\r\n      }\r\n      return days;\r\n    },\r\n  },\r\n  // watch for store.classes change\r\n  watch: {\r\n    dragging_class(a, b) {\r\n      if (a?.ref != b?.ref) {\r\n        this.drag = {};\r\n      }\r\n      this.drag.class = this.dragging_class;\r\n    },\r\n    \"store.classes\": {\r\n      handler(a, b) {\r\n        if (a.length != b.length && this.is_ready) {\r\n          _status.log(\"ðŸ“¦ Classes array length changed, calendar updating tasks\");\r\n          this.store\r\n            .fetch_classes()\r\n            .then(() => {\r\n              this.run_get_tasks();\r\n            })\r\n            .catch((err) => {\r\n              _status.error(\"ðŸ”¥ Couldn't fetch classes\", err);\r\n            });\r\n        }\r\n      },\r\n      deep: true,\r\n    },\r\n    \"store.tasks\": {\r\n      handler() {\r\n        this.tasks = this.store.tasks;\r\n      },\r\n      deep: true,\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.fullpage_toggle_button {\r\n  display: none;\r\n  background: transparent;\r\n  border: solid var(--color-calendar-header) 2px;\r\n}\r\n@media (min-width: 630px) {\r\n  main.calendar.calendar_fullpage {\r\n    border: none;\r\n    box-shadow: none;\r\n    border-radius: 0;\r\n    top: 0;\r\n    left: 0;\r\n    position: fixed;\r\n    max-width: unset;\r\n    width: 100%;\r\n    height: 100%;\r\n    box-sizing: border-box;\r\n    overflow-y: hidden;\r\n    z-index: 4;\r\n  }\r\n  .fullpage_toggle_button {\r\n    display: flex;\r\n  }\r\n\r\n  main.calendar.calendar_fullpage .calendar_days_container {\r\n    height: 100%;\r\n    width: 100%;\r\n    overflow-y: auto;\r\n  }\r\n  main.calendar.calendar_fullpage .calendar_days_container::before {\r\n    display: none;\r\n  }\r\n  main.calendar.calendar_fullpage .calendar_days {\r\n    position: relative;\r\n    grid-template-rows: var(--height-calendar-weekday-label) repeat(6, minmax(100px, 1fr));\r\n  }\r\n}\r\n\r\n/* days list */\r\n.calendar_days_container {\r\n  width: 100%;\r\n  position: relative;\r\n}\r\n/* use a ::before or ::after to force it to a 3:2 ratio */\r\n.calendar_days_container::before {\r\n  content: \"\";\r\n  display: block;\r\n  padding-top: 80%;\r\n}\r\n.calendar_days {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  /* layout */\r\n  display: grid;\r\n  grid-template-columns: repeat(7, 1fr);\r\n  grid-template-rows: var(--height-calendar-weekday-label) repeat(6, 1fr);\r\n  grid-gap: var(--gap-calendar-day);\r\n  box-sizing: border-box;\r\n  padding: 0;\r\n}\r\n.calendar_days:empty::after {\r\n  content: \"No tasks scheduled\";\r\n  font-size: 1.5rem;\r\n  font-weight: 600;\r\n  color: var(--color-on-calendar);\r\n  text-align: center;\r\n  margin: 1.5rem 0;\r\n}\r\n/* days */\r\n.calendar_day {\r\n  /* width: 100%; */\r\n  height: 100%;\r\n  /* layout */\r\n  display: flex;\r\n  flex-flow: column nowrap;\r\n  justify-content: stretch;\r\n  align-items: stretch;\r\n  /* style */\r\n  background-color: var(--color-calendar-day);\r\n  border-radius: var(--radius-calendar-day);\r\n  /* cursor: pointer; */\r\n  user-select: none;\r\n  /* overflow */\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n.calendar_day__today {\r\n  --color-calendar-day: var(--color-calendar-day-today);\r\n}\r\n.calendar_day::after {\r\n  content: \"\";\r\n  display: block;\r\n  position: absolute;\r\n  bottom: -1px;\r\n  left: 0;\r\n  width: 100%;\r\n  height: calc(var(--spacing-calendar-day) + 1px);\r\n  user-select: none;\r\n  pointer-events: none;\r\n  background: linear-gradient(\r\n    to bottom,\r\n    rgba(255, 255, 255, 0) 0px,\r\n    var(--color-calendar-day) var(--spacing-calendar-day)\r\n  );\r\n  z-index: 5;\r\n}\r\n\r\n.calendar_day_date {\r\n  /* layout */\r\n  display: flex;\r\n  flex-flow: row nowrap;\r\n  justify-content: center;\r\n  align-items: center;\r\n  font-weight: 700;\r\n  /* style */\r\n  backdrop-filter: blur(5px);\r\n  background-color: var(--color-calendar-date);\r\n  font-size: 11px;\r\n  color: var(--color-on-calendar-date);\r\n  margin: var(--spacing-calendar-day);\r\n  height: var(--size-calendar-day-date);\r\n  width: var(--size-calendar-day-date);\r\n  border-radius: calc(var(--radius-calendar-day) / 1.5);\r\n  user-select: none;\r\n  z-index: 2;\r\n}\r\n/* day labels */\r\n.calendar_day__weekday_label {\r\n  padding: 5px;\r\n  line-height: calc(var(--height-calendar-weekday-label) - 10px);\r\n  color: var(--color-calendar-weekday-label);\r\n  font-weight: 600;\r\n  font-size: 0.8em;\r\n}\r\n.calendar_day__weekday_label span.calendar_day__weekday_label__text {\r\n  text-align: center;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n.calendar_day::before {\r\n  /* allow for fade transition */\r\n  opacity: 0;\r\n  transition: opacity 0.2s ease-out;\r\n  content: \"\";\r\n}\r\n.calendar_day.calendar_day__drag_to:not(.calendar_day__drag_from)::before {\r\n  /* center and overlay */\r\n  display: flex;\r\n  flex-flow: row nowrap;\r\n  justify-content: center;\r\n  align-items: center;\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  /* background */\r\n  content: \"ðŸ »\";\r\n  font-size: 30px;\r\n  font-weight: 700;\r\n  color: var(--color-dragging);\r\n\r\n  /* styles */\r\n  background-color: var(--color-dragging-alt);\r\n  backdrop-filter: blur(3px);\r\n  z-index: 6;\r\n  opacity: 1;\r\n}\r\n\r\n.calendar_day.calendar_day__drag_class_to:not(.calendar_day__drag_from)::before {\r\n  content: \"+\";\r\n}\r\n\r\n/* hide paceholder tasks until hover */\r\n.calendar_day.calendar_day__placeholder > * {\r\n  opacity: 0.2;\r\n  transition: opacity 0.2s ease-out;\r\n}\r\n.calendar_day.calendar_day__placeholder:hover > *,\r\n.calendar_day.calendar_day__placeholder.calendar_day__drag_to > * {\r\n  opacity: 1;\r\n  transition-duration: 0.5s;\r\n}\r\n.calendar_day.calendar_day__placeholder:hover > .calendar_day_tasks,\r\n.calendar_day.calendar_day__placeholder.calendar_day__drag_to > .calendar_day_tasks {\r\n  visibility: visible;\r\n}\r\n.calendar_day.calendar_day__placeholder {\r\n  opacity: 0.5;\r\n  scale: 0.9;\r\n  transition: opacity 0.2s ease-out, scale 0.2s ease-out;\r\n}\r\n.calendar_day.calendar_day__placeholder:hover,\r\n.calendar_day.calendar_day__placeholder.calendar_day__drag_to {\r\n  opacity: 0.85;\r\n  scale: 1;\r\n}\r\n\r\n/* tasks */\r\n.calendar_day_tasks {\r\n  height: 100%;\r\n  width: 100%;\r\n  position: absolute;\r\n  padding: var(--spacing-calendar-day);\r\n  padding-top: calc(var(--size-calendar-day-date) + 2 * var(--spacing-calendar-day));\r\n  overflow-y: auto;\r\n  z-index: 1;\r\n  /* layout */\r\n  display: flex;\r\n  flex-flow: column nowrap;\r\n  justify-content: flex-start;\r\n  align-items: stretch;\r\n}\r\n\r\n/* hide scrollbars on tasks list */\r\n.calendar_day_tasks::-webkit-scrollbar {\r\n  display: none;\r\n}\r\n.calendar_day_tasks {\r\n  -ms-overflow-style: none;\r\n  scrollbar-width: none;\r\n}\r\n/* task styling */\r\n.calendar_day_task {\r\n  white-space: nowrap;\r\n  flex-shrink: 0;\r\n  overflow: hidden;\r\n  text-overflow: clip;\r\n  position: relative;\r\n  padding: var(--padding-calendar-task);\r\n  /* colors */\r\n  color: var(--color-on-calendar-task);\r\n  background-color: var(--color-calendar-task);\r\n  /* styles */\r\n  font-size: 0.8rem;\r\n  font-weight: 600;\r\n  border-radius: 5px;\r\n  text-align: center;\r\n  height: var(--height-calendar-task);\r\n  filter: var(--filter-calendar-task);\r\n  cursor: pointer;\r\n  /* center contents */\r\n  display: flex;\r\n  flex-flow: row nowrap;\r\n  justify-content: flex-start;\r\n  align-items: center;\r\n}\r\n.calendar_day_task:first-of-type {\r\n  margin-top: auto;\r\n}\r\n.calendar_day_task:not(:last-of-type) {\r\n  margin-bottom: var(--spacing-calendar-day);\r\n}\r\n.calendar_day_task > span {\r\n  text-align: center;\r\n  width: 100%;\r\n  user-select: none;\r\n  pointer-events: none;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n}\r\n/* for note type */\r\n.calendar_day_task[is_note=\"true\"] {\r\n  padding: 0;\r\n}\r\n/* contents wrapper */\r\n.calendar_day_task[is_note=\"true\"] > span {\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-flow: row nowrap;\r\n  background-color: var(--color-calendar-note);\r\n}\r\n/* swatch of the note */\r\n.calendar_day_task[is_note=\"true\"] > span > .calendar_day_task__swatch {\r\n  display: block;\r\n  height: calc(var(--height-calendar-task) - 8px);\r\n  flex: 0 0 calc(var(--height-calendar-task) - 8px);\r\n  margin: 4px;\r\n  border-radius: 3px;\r\n  background-color: var(--color-calendar-task);\r\n}\r\n/* text contents of the note*/\r\n.calendar_day_task[is_note=\"true\"] > span > .calendar_day_task__note {\r\n  display: block;\r\n  flex: 1 1;\r\n  color: var(--color-on-calendar-note);\r\n  font-size: 0.9em;\r\n  font-weight: 700;\r\n  line-height: var(--height-calendar-task);\r\n  padding: 0 var(--padding-calendar-task);\r\n}\r\n.calendar_day_task .calendar_day_task_editable {\r\n  /* fill task */\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n\r\n  /* overlay center */\r\n  display: flex;\r\n  flex-flow: row nowrap;\r\n  justify-content: center;\r\n  align-items: center;\r\n  overflow: hidden;\r\n\r\n  /* background and transition */\r\n  border-radius: 5px;\r\n  background-color: var(--color-calendar-task);\r\n  opacity: 0;\r\n  z-index: 2;\r\n  transition: opacity 0.2s ease-out;\r\n}\r\n.calendar_day_task:hover .calendar_day_task_editable,\r\n.calendar_day_task:active .calendar_day_task_editable,\r\n.calendar_day_task.calendar_day_task__dragging .calendar_day_task_editable {\r\n  opacity: 1;\r\n}\r\n.calendar_day_task.calendar_day_task__dragging:not(.calendar_day_task__loading) {\r\n  opacity: 0.001;\r\n}\r\n.task_icon {\r\n  width: 100%;\r\n  height: 100%;\r\n  background-size: 20px;\r\n}\r\n.task_icon.loading_bg {\r\n  background-size: 40px;\r\n  filter: none;\r\n}\r\n.task_edit__icon {\r\n  filter: var(--filter-swatch-icon);\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n  background-image: url(@/assets/img/general/portal/edit.png);\r\n  background-image: url(@/assets/img/general/portal/edit.svg);\r\n}\r\n.calendar_day_task[is_note=\"false\"]:not(.calendar_day__weekday_label)::after {\r\n  content: \"\";\r\n  display: block;\r\n  width: calc(var(--padding-calendar-task) + 2px);\r\n  height: 100%;\r\n  right: 0;\r\n  top: 0;\r\n  position: absolute;\r\n  background: linear-gradient(to right, rgba(255, 255, 255, 0) 0%, var(--color-calendar-task) 100%);\r\n  margin-top: 5px;\r\n  z-index: 1;\r\n}\r\n\r\n/* on small devices, show as a list instead of a calendar */\r\n@media (max-width: 630px) {\r\n  .calendar_days_container::before {\r\n    display: none;\r\n  }\r\n  .calendar_days_container {\r\n    padding: var(--spacing-calendar-day);\r\n  }\r\n  .calendar_days {\r\n    position: unset;\r\n    top: unset;\r\n    left: unset;\r\n    height: unset;\r\n    display: flex;\r\n    flex-flow: column nowrap;\r\n    justify-content: stretch;\r\n    align-items: stretch;\r\n  }\r\n  .calendar_day.calendar_day__placeholder,\r\n  .calendar_day:not(.calendar_day__hastask),\r\n  .calendar_days.calendar_days__current:not(.calendar_days__changed) .calendar_day__past {\r\n    display: none;\r\n  }\r\n  .calendar_day {\r\n    flex-shrink: 0;\r\n    margin-bottom: var(--spacing-calendar-day);\r\n    height: unset;\r\n    max-height: unset;\r\n    align-items: flex-start;\r\n  }\r\n  .calendar_day_date {\r\n    width: unset;\r\n    padding: 0.25rem 0.5rem;\r\n  }\r\n  .calendar_day_date__short {\r\n    display: none;\r\n  }\r\n  .calendar_day_date__long,\r\n  .calendar__no_tasks {\r\n    display: unset !important;\r\n  }\r\n  .calendar_day_date {\r\n    height: unset;\r\n  }\r\n  .calendar__no_tasks {\r\n    color: var(--color-text-on-calendar);\r\n    font-weight: 500;\r\n    text-align: center;\r\n    margin: 10% 0;\r\n  }\r\n  .calendar_day_tasks {\r\n    position: unset;\r\n    padding: 0;\r\n    padding-top: 10px;\r\n    flex-flow: row wrap;\r\n    flex-basis: calc(var(--height-calendar-task) + 2 * var(--spacing-calendar-day));\r\n    box-sizing: content-box;\r\n    overflow-y: unset;\r\n  }\r\n  .calendar_day_tasks::after,\r\n  .calendar_day::after {\r\n    display: none;\r\n  }\r\n  .calendar_day_task {\r\n    margin: var(--spacing-calendar-day) !important;\r\n    flex-grow: 1;\r\n    white-space: normal;\r\n    height: unset;\r\n    min-height: var(--height-calendar-task);\r\n    flex-basis: 70px;\r\n  }\r\n}\r\n</style>\r\n<style>\r\n@media (min-width: 630px) {\r\n  .portal:has(main.calendar.calendar_fullpage) .portal_sidebar {\r\n    z-index: 0;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./CalendarBlock.vue?vue&type=template&id=87c8f4d0&scoped=true\"\nimport script from \"./CalendarBlock.vue?vue&type=script&lang=js\"\nexport * from \"./CalendarBlock.vue?vue&type=script&lang=js\"\n\nimport \"./CalendarBlock.vue?vue&type=style&index=0&id=87c8f4d0&scoped=true&lang=css\"\nimport \"./CalendarBlock.vue?vue&type=style&index=1&id=87c8f4d0&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\sande\\\\Documents\\\\GitHub\\\\mvtime.github.io\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-87c8f4d0\"]])\n\nexport default __exports__","import { render } from \"./Portal.vue?vue&type=template&id=170ce579&scoped=true\"\nimport script from \"./Portal.vue?vue&type=script&lang=js\"\nexport * from \"./Portal.vue?vue&type=script&lang=js\"\n\nimport \"./Portal.vue?vue&type=style&index=0&id=170ce579&scoped=true&lang=css\"\nimport \"./Portal.vue?vue&type=style&index=1&id=170ce579&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\sande\\\\Documents\\\\GitHub\\\\mvtime.github.io\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-170ce579\"]])\n\nexport default __exports__"],"names":["smart_url","path","toLowerCase","match","useMagic","defineStore","id","state","types","note","task","test","project","quiz","exam","getters","actions","text","_createElementVNode","class","_hoisted_2","_createElementBlock","style","_normalizeStyle","$props","color","title","class_name","_hoisted_4","_hoisted_5","_toDisplayString","name","_hoisted_6","_hoisted_7","date","toLocaleDateString","undefined","_hoisted_8","$options","type_full","props","type","Object","required","computed","this","__exports__","render","page","$data","_createVNode","_component_LeftBar","ref","_normalizeClass","paged","onToggle_filtered_class","toggle_filtered_class","onClear_filters","_cache","$event","filtered_classes","onClose_right_bar","close_right_bar","onDragclass","close_left_bar","drag_class","onDrag","_ctx","$refs","calendar","check_leave","onDragend","drop_class","onMounted","loaded","LeftBar","load","onClick","_hoisted_3","store","is_teacher","Date","recently_joined","non_recent_signin","random_welcome","is_study","_createBlock","_component_StudyBlock","onTaskclick","show_task","study","run_get_tasks","_component_CalendarBlock","dragging_class","_component_RightBar","onClose_left_bar","RightBar","_Fragment","_renderList","tab","active","key","alt","src","includes","$route","_component_OverlayWrapper","onClose","close_path","$router","push","query","scope","_component_router_view","close","sidebar_open","args","show_if_inactive","_hoisted_1","_component_ActionsPanel","_component_ClassList","_mergeProps","$attrs","$emit","_theme","get_theme","toggle_theme","_component_SidebarToggle","close_sidebar","_hoisted_10","_hoisted_11","filtering","length","classes","class_obj","dragging","href","clean_ref","draggable","email","user","onDragstart","_done","preventDefault","_email","edit_class","leave_class","stopPropagation","period","_hoisted_9","Array","default","data","useMainStore","map","split","emits","methods","_id","join","params","task_types","task_type","disabled","has_classes","warn_missing_class","shortcuts","description","mounted","window","addEventListener","keydown","useShortcuts","register_all","beforeUnmount","removeEventListener","remove_tag","active_doc","e","t","find","tasktype","WarningToast","components","SidebarToggle","ClassList","ActionsPanel","Boolean","unmounted","placeholderToast","setTimeout","set_class","c","loading","watch","width","height","_imports_0","personal_account","_component_UpcomingTasks","tasks","_component_router_link","to","_TransitionGroup","tag","_component_ExamCard","path_to_ref","target","ExamCard","upcoming_todo","slice","UpcomingTasks","is_ready","_component_LoadingCover","covering","lengths","days","swap_to_calendar","upcoming","filtered","arranged","list","class_id","finished","is_finished","for","toggle_finished","_hoisted_14","prefixed_name","_hoisted_15","month","day","_renderSlot","$slots","String","LoadingCover","Number","MAX_SAFE_INTEGER","prefixes","_status","log","handle_key","top","item","filtered_tasks","filter","now","morning","diff","getTime","sort","a","b","a_finished","finished_tasks","b_finished","arranged_array","a_class","b_class","event","ctrlKey","set_finished","then","catch","err","error","handler","fetch_classes","deep","_hoisted_19","_hoisted_20","calendar_fullpage","fullpage","toggle_fullscreen","loaded_month","year","prev_month","this_month","next_month","swap_to_study","drag","day_matches","setDate","is_changed","is_placeholder","simplified","is_today","is_past","from","_date","toISOString","onDragover","drag_over","format_date","_hoisted_13","getDate","is_note","drag_drop","get_link","_hoisted_17","loading_bg","_hoisted_18","_hoisted_21","_hoisted_22","tasks_loaded_month","_hoisted_23","console","new_fullpage","shiftKey","shift","action","i","rect","calendar_days","getBoundingClientRect","clientX","left","right","clientY","bottom","getTimezoneOffset","update_task","SuccessToast","ErrorToast","day1","day2","getMonth","getFullYear","get_day_tasks","task_date","compatDateObj","setMonth","new_date","task_id","JSON","parse","some","today","this_date","get_this_date","first_day","last_day","getDay","preflow_day","month_day","overflow_day","StudyBlock","CalendarBlock","OverlayWrapper","welcomes","innerWidth","redirect","meta","displayName","did_survey","done_daily_survey","Math","floor","random","do_survey","replace","fullPath","check_and_do_survey","noSurvey","check_and_do_join","done_join_form","before","after","$time"],"sourceRoot":""}