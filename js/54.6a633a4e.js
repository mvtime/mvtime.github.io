"use strict";(self["webpackChunkmvtime"]=self["webpackChunkmvtime"]||[]).push([[54],{3054:function(t,e,i){i.r(e),i.d(e,{default:function(){return p}});var n=i(6768);function s(t,e,i,s,h,o){const a=(0,n.g2)("Modal");return(0,n.uX)(),(0,n.Wv)(a,{can_continue:!0,title:"Leaving "+t.$env.VUE_APP_BRAND_SHORT_NAME,html:o.contents,continue_action:o.open,skippable:!0,skip_text:"Cancel",onSkip:e[0]||(e[0]=e=>t.$emit("close")),submit_text:"Continue"},null,8,["title","html","continue_action"])}i(4603),i(7566),i(8721);var h=i(7251),o=i(4186),a={name:"RedirectView",components:{Modal:h.A},emits:["close"],data(){return{path:""}},mounted(){this.path=this.$route?.params?.path,this.path?this.path=this.path.startsWith("http")?this.path:`https://${this.path}`:(new o.MY("Missing redirect path"),this.$emit("close"));try{const t=new URL(this.path);if(this.$env.VUE_APP_BRAND_DOMAIN==t.host||t.host.endsWith("."+this.$env.VUE_APP_BRAND_DOMAIN))return this.$status.log(`ðŸ”— Redirecting to ${this.$env.VUE_APP_BRAND_SHORT_NAME}`),void this.open();const e=(this.$env.VUE_APP_BRAND_ALLOWED_HOSTS||"").split(",").some((e=>e.includes("*")?t.host.endsWith(e.replace("*","")):t.host==e));e&&(this.$status.log(`ðŸ”— Redirecting to permitted pattern ${e} automatically`),this.open())}catch{this.$status.log(`Couldn't not verify path domain is not ${this.$env.VUE_APP_BRAND_SHORT_NAME}`)}},computed:{contents(){return this.path?`You are being redirected to <a href="${this.path}">${new URL(this.path).host}</a>\n            <br><br>\n           Content outside of ${this.$env.VUE_APP_BRAND_SHORT_NAME} is not vetted by our team, and may be harmful.`:"Missing redirect path"}},methods:{open(){this.$emit("close"),window.location.replace(this.path)}}},r=i(1241);const c=(0,r.A)(a,[["render",s]]);var p=c}}]);
//# sourceMappingURL=54.6a633a4e.js.map