{"version":3,"file":"js/118.980f990f.js","mappings":"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","sources":["webpack://mvtime/./src/views/Admin/pages/MessagesAlerts.vue","webpack://mvtime/./src/views/Admin/pages/MessagesAlerts.vue?e4bb"],"sourcesContent":["<template>\n  <div class=\"messagesalerts\" :page=\"page\">\n    <div class=\"msg_choose\" v-if=\"page == 'choose'\">\n      <div\n        :class=\"`msg_choose_page msg_choose__${p} admin_in`\"\n        v-for=\"(choice, p, i) in choices\"\n        :key=\"p\"\n        @click=\"if (!choice.disabled) page = p;\"\n        :style=\"{ animationDelay: `${(i + 2) * 0.05}s` }\"\n        :disabled=\"choice.disabled\"\n      >\n        {{ choice.name }}\n      </div>\n    </div>\n    <div class=\"msg_page_wrapper\" v-else>\n      <div class=\"msg_page_info admin_in\" v-if=\"page != 'choose'\" :style=\"{ animationDelay: `${2 * 0.05}s` }\">\n        <button class=\"msg_page__back\" @click=\"page = 'choose'\">\n          <div class=\"msg_page__back__icon themed_icon\"></div>\n        </button>\n        <div class=\"msg_page_info__text\">{{ choices[page].active }}</div>\n      </div>\n      <hr class=\"msg_page_wrapper__separator admin_in\" :style=\"{ animationDelay: `${3 * 0.05}s` }\" />\n      <div class=\"msg_page_container admin_in\" :style=\"{ animationDelay: `${4 * 0.05}s` }\">\n        <div class=\"msg_page msg__view\" v-if=\"page == 'view'\">\n          <table class=\"msg_page_list msg__view_list\">\n            <tr class=\"msg_page_list_header msg__view_list_header\">\n              <th style=\"flex: 1 2 6em; min-width: 6em\">Recepient</th>\n              <template v-if=\"!data.view.active\">\n                <th class=\"msg__nomobile\" style=\"flex: 1 1 6em\">Template</th>\n                <th style=\"flex: 2 1 6.5em\">Date</th>\n                <th style=\"flex: 0 0 5em\">Status</th>\n              </template>\n            </tr>\n            <template v-if=\"!data.view.loading\">\n              <tr\n                class=\"msg_page_list_item msg__view_list_item admin_in\"\n                :class=\"{ active: data.view.active == id }\"\n                v-for=\"(message, id, i) in data.view.list\"\n                :key=\"id\"\n                :style=\"{ animationDelay: `${(i + 2) * 0.03 + 0.2}s` }\"\n              >\n                <td style=\"flex: 1 2 6em; min-width: 6em\">\n                  <span class=\"msg__view_to\" v-if=\"message.to\" :title=\"`TO: ${Array.isArray(message.to) ? message.to.join(', ') || 'empty' : message.to}`\"\n                    >{{ Array.isArray(message.to) ? message.to.length + \" emails\" : message.to.split(\"@\")[0] }}&MediumSpace;</span\n                  ><span class=\"msg__view_cc\" v-if=\"message.cc\" :title=\"`CC: ${Array.isArray(message.cc) ? message.cc.join(', ') || 'empty' : message.cc}`\">[cc]&MediumSpace;</span\n                  ><span class=\"msg__view_bcc\" v-if=\"message.bcc\" :title=\"`BCC: ${Array.isArray(message.cc) ? message.bcc.join(', ') || 'empty' : message.bcc}`\">[bcc]</span>\n                </td>\n                <td class=\"msg__nomobile\" style=\"flex: 1 1 6em\">{{ message.template && message.template.name }}</td>\n                <td style=\"flex: 2 1 6.5em\">{{ date_of(message) }}</td>\n                <td style=\"flex: 0 0 5em\">{{ status_of(message) }}</td>\n                <div class=\"msg_page_list_item_content msg_view_preview\" v-if=\"data.view.active == id\">\n                  <div class=\"msg_view_preview__json\">\n                    <pre>{{ JSON.stringify(message, null, 2) }}</pre>\n                  </div>\n                </div>\n                <button\n                  class=\"msg__view_list_item__toggle msg_list_item__toggle\"\n                  :class=\"{ click_escape: data.view.active == id }\"\n                  @click=\"data.view.active = data.view.active == id ? null : id\"\n                  title=\"Close email data\"\n                >\n                  <div class=\"msg_list_item__toggle__icon themed_icon\" :title=\"`${data.view.active == id ? 'Collapse' : 'Expand'} preview of ${id}`\"></div>\n                </button>\n              </tr>\n              <tr v-if=\"!Object.keys(data.view.list).length\" class=\"msg_page_list_item__empty admin_in\" :style=\"{ animationDelay: `${2 * 0.03 + 0.2}s` }\">\n                <span>No sent messages exist yet</span>\n              </tr>\n            </template>\n            <template v-else>\n              <tr class=\"msg_page_list_item msg_page_list_item_loading msg__view_list_item part_loading_animation\" v-for=\"j in placeholder(3)\" :key=\"j\">\n                <div class=\"part_loading_animation msg_page_list_item_loading_button\"></div>\n              </tr>\n            </template>\n          </table>\n        </div>\n        <div class=\"msg_page msg__send\" v-else-if=\"page == 'send'\"></div>\n        <div class=\"msg_page msg__templates\" v-else-if=\"page == 'templates'\">\n          <table class=\"msg_page_list msg__templates_list\">\n            <tr class=\"msg_page_list_header msg__templates_list_header\">\n              <th style=\"flex: 0 1 10em\">Template</th>\n              <template v-if=\"!data.view.active\">\n                <th style=\"flex: 1 4 20em\">Subject</th>\n                <th class=\"msg__nomobile\" style=\"flex: 4 10 20em\">Text</th></template\n              >\n            </tr>\n            <template v-if=\"!data.templates.loading\">\n              <tr\n                class=\"msg_page_list_item msg__templates_list_item admin_in\"\n                :class=\"{ active: data.templates.active == id }\"\n                v-for=\"(template, id, i) in data.templates.list\"\n                :key=\"id\"\n                :style=\"{ animationDelay: `${(i + 2) * 0.03 + 0.2}s` }\"\n              >\n                <td style=\"flex: 1 1 10em\">{{ id }}</td>\n                <td style=\"flex: 2 4 20em\">{{ template.subject }}</td>\n                <td class=\"msg__nomobile\" style=\"flex: 8 10 20em\">{{ template.text }}</td>\n                <div class=\"msg_page_list_item_content msg_templates_preview\" v-if=\"data.templates.active == id\">\n                  <div class=\"msg_templates_preview__html\" v-html=\"template.html\"></div>\n                </div>\n                <div class=\"msg_page_list_item_content msg_templates_preview\" v-if=\"data.templates.active == id\">\n                  <div class=\"msg_templates_preview__text\" v-html=\"template.text.replace(/\\\\n/g, '<br/>')\"></div>\n                </div>\n                <button\n                  class=\"msg__templates_list_item__toggle msg_list_item__toggle\"\n                  :class=\"{ click_escape: data.templates.active == id }\"\n                  @click=\"data.templates.active = data.templates.active == id ? null : id\"\n                  title=\"Close email contents preview\"\n                >\n                  <div class=\"msg_list_item__toggle__icon themed_icon\" :title=\"`${data.templates.active == id ? 'Collapse' : 'Expand'} preview of ${id}`\"></div>\n                </button>\n              </tr>\n              <tr v-if=\"!Object.keys(data.templates.list).length\" class=\"msg_page_list_item__empty admin_in\" :style=\"{ animationDelay: `${2 * 0.03 + 0.2}s` }\">\n                <span>No templates exist yet</span>\n              </tr>\n            </template>\n            <template v-else>\n              <tr class=\"msg_page_list_item msg_page_list_item_loading msg__templates_list_item part_loading_animation\" v-for=\"j in placeholder(8)\" :key=\"j\">\n                <div class=\"part_loading_animation msg_page_list_item_loading_button\"></div>\n              </tr>\n            </template>\n          </table>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { functions } from \"@/firebase\";\nimport { httpsCallable } from \"firebase/functions\";\nimport { ErrorToast } from \"@svonk/util\";\n\nexport default {\n  name: \"MessagesAlerts\",\n  data() {\n    return {\n      page: \"choose\",\n      choices: {\n        view: { name: \"View Sent\", active: \"Sent Messages\" },\n        send: { name: \"Send New\", active: \"Create Message\", disabled: true },\n        templates: { name: \"Templates\", active: \"Message Templates\" },\n      },\n      data: {\n        view: {\n          list: {},\n          loading: true,\n          active: null,\n          placeholder: this.placeholder(3),\n        },\n        templates: {\n          list: {},\n          loading: true,\n          active: null,\n          placeholder: this.placeholder(8),\n        },\n      },\n    };\n  },\n  methods: {\n    async fetch_templates() {\n      this.data.templates.list = {};\n      this.data.templates.loading = true;\n      const templates = httpsCallable(functions, \"getTemplates\");\n\n      const start = Date.now();\n      const { data, error } = await templates();\n      const elapsed = Date.now() - start;\n\n      if (error) {\n        this.$status.error(`ðŸ“ƒ Failed to fetch templates after ${elapsed}ms`, error);\n        new ErrorToast(\"Something went wrong loading the templates\", error, 2500);\n        return;\n      } else {\n        const len = Object.keys(data || {}).length;\n        this.$status.log(`ðŸ“ƒ Fetched ${len} template${len == 1 ? \"\" : \"s\"} in ${elapsed}ms`);\n        this.data.templates.list = data || {};\n        this.data.templates.loading = false;\n      }\n    },\n    async fetch_messages() {\n      this.data.view.list = {};\n      this.data.view.loading = true;\n      const messages = httpsCallable(functions, \"getSentMessages\");\n\n      const start = Date.now();\n      const { data, error } = await messages();\n      const elapsed = Date.now() - start;\n\n      if (error) {\n        this.$status.error(`ðŸ“ƒ Failed to fetch messages after ${elapsed}ms`, error);\n        new ErrorToast(\"Something went wrong loading sent messages\", error, 2500);\n        return;\n      } else {\n        const len = Object.keys(data || {}).length;\n        this.$status.log(`ðŸ“ƒ Fetched ${len} messages${len == 1 ? \"\" : \"s\"} in ${elapsed}ms`);\n        this.data.view.list = data || {};\n        this.data.view.loading = false;\n      }\n    },\n    placeholder(n) {\n      return Array.from({ length: n }, (_, i) => i);\n    },\n    date_of(message) {\n      const ms = (message?.delivery?.startTime?._seconds + message?.delivery?.startTime?._nanoseconds / 1e9) * 1000;\n      const date = new Date(ms);\n      return isNaN(date.getTime()) ? \"Unknown\" : date.toLocaleDateString();\n    },\n    status_of(message) {\n      return message?.delivery?.state || \"N/A\";\n    },\n  },\n  mounted() {\n    if (this.$route?.query?.action) {\n      this.page = this.$route.query.action;\n    }\n  },\n  watch: {\n    page() {\n      this.$router.push({\n        query: { ...this.$route.query, action: this.page == \"choose\" ? undefined : this.page },\n      });\n      if (this.page == \"templates\" && this.data.templates.loading) {\n        this.fetch_templates();\n      } else if (this.page == \"view\" && this.data.view.loading) {\n        this.fetch_messages();\n      }\n      this.data.templates.active = null;\n      this.data.view.active = null;\n    },\n  },\n};\n</script>\n\n<style scoped>\n/* choices */\n.messagesalerts.admin_main .msg_choose {\n  display: flex;\n  flex-flow: row wrap;\n  justify-content: stretch;\n  align-items: stretch;\n  gap: 10px;\n  width: 100%;\n  font-weight: 600;\n\n  max-width: 800px;\n  margin: 0 auto;\n}\n.msg_choose > .msg_choose_page {\n  padding: 10px 20px;\n  min-height: 50px;\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: calc(var(--radius-sidebar) - var(--padding-sidebar));\n  background: var(--color-on-bg);\n  user-select: none;\n  cursor: pointer;\n  flex: 1 1 150px;\n  text-align: center;\n}\n@media (max-width: 670px) {\n  .msg_choose > .msg_choose_page {\n    flex-basis: 100%;\n  }\n}\n\n/* pages */\n.msg_page_wrapper {\n  display: flex;\n  flex-flow: column nowrap;\n}\n\n/* pages - info */\n\n.msg_page_wrapper .msg_page_info {\n  display: flex;\n  display: inline-flex;\n  flex-flow: row nowrap;\n  justify-content: space-between;\n  align-items: flex-start;\n  gap: 5px;\n}\n.msg_page_wrapper .msg_page_info > * {\n  border: none;\n  border-radius: calc(var(--radius-sidebar) - var(--padding-sidebar));\n  background: var(--color-on-bg);\n}\n.msg_page_wrapper .msg_page_info button.msg_page__back {\n  height: 40px;\n  width: 40px;\n  flex: 0 0 40px;\n  padding: 0;\n}\n.msg_page_wrapper .msg_page_info button.msg_page__back .msg_page__back__icon {\n  width: 100%;\n  height: 100%;\n  background-image: url(@/assets/img/general/portal/nav/left.png);\n  background-image: url(@/assets/img/general/portal/nav/left.svg);\n}\n.msg_page_wrapper .msg_page_info .msg_page_info__text {\n  flex: 1 1 auto;\n  padding: 5px 7px;\n  min-height: 40px;\n  text-align: center;\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 16px;\n  font-weight: 500;\n  user-select: none;\n}\n\n/* pages - separator */\n\n.msg_page_wrapper .msg_page_wrapper__separator {\n  border: none;\n  margin: 10px auto;\n  width: 60%;\n  max-width: 350px;\n  min-width: 100px;\n  height: 5px;\n  border-radius: 5px;\n  background: var(--color-on-bg);\n}\n\n/* pages - page */\ntable.msg_page_list {\n  width: 100%;\n  max-width: 100%;\n  display: flex;\n  flex-flow: column nowrap;\n  justify-content: stretch;\n  align-items: stretch;\n  gap: 10px;\n}\ntable.msg_page_list tr.msg_page_list_item {\n  height: calc(1.5em + 14px);\n}\ntable.msg_page_list tr.msg_page_list_item,\ntable.msg_page_list tr.msg_page_list_header {\n  display: flex;\n  flex-flow: row nowrap;\n  background: var(--color-on-bg);\n  border-radius: calc(var(--radius-sidebar) - var(--padding-sidebar));\n  padding: 7px 12px;\n  line-height: 1.5em;\n  gap: 5px;\n}\ntable.msg_page_list tr.msg_page_list_item td,\ntable.msg_page_list tr.msg_page_list_header th {\n  display: block;\n  flex: 1 1 100px;\n  width: 100px;\n  text-align: left;\n  line-height: 1.5em;\n  border: none;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\ntable.msg_page_list tr.msg_page_list_header {\n  opacity: 0.5;\n  font-size: 16px;\n  height: calc(12px * 1.5 + 14px);\n  padding: 0 12px;\n  gap: 5px;\n}\ntable.msg_page_list tr.msg_page_list_header > :last-child {\n  margin-right: calc(1.5em + 3px);\n}\ntable.msg_page_list > tr.msg_page_list_header > th {\n  width: 100px;\n  transform-origin: left;\n  scale: 0.8;\n  line-height: calc(12px * 1.5 + 14px);\n  font-weight: 700 !important;\n  border-color: #00000000 !important;\n}\n\ntable.msg_page_list tr.msg_page_list_item.msg_page_list_item_loading {\n  height: calc(1.5em + 14px);\n  opacity: 0.75;\n  background: linear-gradient(90deg, #00000000 0%, var(--color-theme-alt) 50%, #00000000 100%);\n  background-size: 200% 100%;\n  animation: loading_swipe 2.5s infinite;\n  position: relative;\n}\ntable.msg_page_list tr.msg_page_list_item.msg_page_list_item_loading .msg_page_list_item_loading_button {\n  width: 1.5em;\n  height: 1.5em;\n  position: absolute;\n  right: 7px;\n  top: 7px;\n  border-radius: calc(var(--radius-sidebar) - var(--padding-sidebar) - 7px);\n}\ntable.msg_page_list tr.msg_page_list_item__empty {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 14px;\n  font-weight: 500;\n  padding: 20px 40px;\n  margin-bottom: 5px;\n}\ntable.msg_page_list tr.msg_page_list_item__empty span {\n  opacity: 0.5;\n}\n/* toggle icon */\n.msg_list_item__toggle {\n  border-radius: calc(var(--radius-sidebar) - var(--padding-sidebar) - 7px);\n  font-size: 16px;\n  width: 1.5em;\n  height: 1.5em;\n  padding: 0;\n  border: none;\n  background: var(--color-bg);\n}\ntable.msg_page_list tr.msg_page_list_item:not(.active):has(button.msg_list_item__toggle) > :nth-last-child(2) {\n  margin-right: calc(1.5em + 3px);\n}\ntable.msg_page_list button.msg_list_item__toggle {\n  position: absolute;\n  top: 7px;\n  right: 7px;\n}\n\ntable.msg_page_list .msg_list_item__toggle__icon {\n  width: 100%;\n  height: 100%;\n  background-image: url(\"@/assets/img/general/portal/admin/add.png\");\n  background-image: url(\"@/assets/img/general/portal/admin/add.svg\");\n  transition: rotate 0.2s cubic-bezier(0.49, -0.02, 0.16, 1.94);\n}\ntable.msg_page_list .msg_page_list_item.active {\n  padding: 3px;\n  padding-top: calc(1.5em + 14px);\n  height: auto;\n}\ntable.msg_page_list .msg_page_list_item.active td:not(:first-child) {\n  display: none;\n}\ntable.msg_page_list .msg_page_list_item td:first-child,\ntable.msg_page_list .msg_page_list_header th:first-child {\n  font-weight: 500;\n  user-select: none;\n  border-right: solid 2px var(--color-bg);\n  margin-right: 1em;\n  padding-right: 0.5em;\n  padding: 7px 0;\n  position: relative;\n  top: -7px;\n  margin-bottom: -14px;\n}\ntable.msg_page_list .msg_page_list_item.active td:first-child {\n  position: absolute;\n  top: 0px;\n  left: 12px;\n  width: max-content;\n  max-width: calc(100% - 1.5em - 14px);\n  border-right: none;\n}\ntable.msg_page_list .msg_page_list_item.active .msg_list_item__toggle__icon {\n  rotate: 45deg;\n}\ntable.msg_page_list .msg_page_list_item.active {\n  flex-flow: column nowrap;\n}\ntable.msg_page_list .msg_page_list_item .msg_page_list_item_content {\n  display: flex;\n  flex-flow: column nowrap;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  overflow: auto;\n  padding: 10px;\n  background: var(--color-bg);\n  border-radius: calc(var(--radius-sidebar) - var(--padding-sidebar) - 3px);\n}\n@media (max-width: 900px) {\n  .msg__nomobile {\n    display: none !important;\n  }\n  table.msg_page_list tr.msg_page_list_item:not(.active):has(button.msg_list_item__toggle):has(.msg__nomobile:nth-last-child(2)) > :nth-last-child(3) {\n    margin-right: calc(1.5em + 3px);\n  }\n}\n</style>\n","import { render } from \"./MessagesAlerts.vue?vue&type=template&id=693629eb&scoped=true\"\nimport script from \"./MessagesAlerts.vue?vue&type=script&lang=js\"\nexport * from \"./MessagesAlerts.vue?vue&type=script&lang=js\"\n\nimport \"./MessagesAlerts.vue?vue&type=style&index=0&id=693629eb&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-693629eb\"]])\n\nexport default __exports__"],"names":["key","class","style","animationDelay","_createElementVNode","_hoisted_6","_hoisted_30","_hoisted_32","_hoisted_51","_hoisted_53","_createElementBlock","page","$data","_hoisted_2","_Fragment","_renderList","choices","choice","p","i","_normalizeClass","onClick","$event","disabled","_normalizeStyle","name","_hoisted_3","_hoisted_4","_hoisted_5","_cache","_hoisted_7","_hoisted_8","_toDisplayString","active","_createCommentVNode","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","data","view","_hoisted_15","_hoisted_16","_hoisted_17","loading","$options","placeholder","j","_hoisted_33","list","message","id","_hoisted_18","to","title","Array","isArray","join","length","split","_hoisted_19","cc","_hoisted_20","bcc","_hoisted_21","_hoisted_22","template","_hoisted_23","date_of","_hoisted_24","status_of","_hoisted_25","_hoisted_26","JSON","stringify","click_escape","_hoisted_28","_hoisted_27","Object","keys","_hoisted_29","_hoisted_31","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","templates","_hoisted_54","_hoisted_41","_hoisted_42","subject","_hoisted_43","text","_hoisted_44","innerHTML","html","_hoisted_45","_hoisted_46","replace","_hoisted_47","_hoisted_49","_hoisted_48","_hoisted_50","_hoisted_52","_hoisted_1","send","this","methods","fetch_templates","httpsCallable","functions","start","Date","now","error","elapsed","$status","ErrorToast","len","log","fetch_messages","messages","n","from","_","ms","delivery","startTime","_seconds","_nanoseconds","date","isNaN","getTime","toLocaleDateString","state","mounted","$route","query","action","watch","$router","push","undefined","__exports__","render"],"sourceRoot":""}