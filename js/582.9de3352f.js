"use strict";(self["webpackChunkmvtime"]=self["webpackChunkmvtime"]||[]).push([[582],{582:function(e,s,t){t.r(s),t.d(s,{default:function(){return y}});t(4114);var a=t(6768),l=t(4232);const o=e=>((0,a.Qi)("data-v-27caa37e"),e=e(),(0,a.jt)(),e),i={class:"leave_class"},r=o((()=>(0,a.Lk)("header",{class:"modal_header"},[(0,a.Lk)("h2",{class:"header_style modal_header_title"},"Confirm class leave")],-1))),c={class:"overlay_contents overlay_contents_text",ref:"contents"},n=["href"],d=o((()=>(0,a.Lk)("br",null,null,-1))),h=o((()=>(0,a.Lk)("br",null,null,-1))),u=o((()=>(0,a.Lk)("span",{class:"button_pointer_text"},"Join Class",-1))),_={class:"bottom_actions"},f=o((()=>(0,a.Lk)("div",{class:"flex_spacer"},null,-1))),v=["disabled"];function m(e,s,t,o,m,b){return(0,a.uX)(),(0,a.CE)("div",i,[r,(0,a.Lk)("div",c,[(0,a.eW)(" Are you sure you want to leave "),(0,a.Lk)("a",{class:"class_name button_pointer_text",href:`/view/${e.$route.params.ref}`,onClick:s[0]||(s[0]=s=>{s.preventDefault(),e.$router.push({name:"viewclass",params:{ref:e.$route.params.ref},query:e.$route.query})}),style:(0,l.Tr)({"--color-class":m.class_obj.color,"--color-class-alt":m.class_obj.color+"2d"})},(0,l.v_)(e.$store.class_text(m.class_obj)),13,n),(0,a.eW)("? "),d,h,(0,a.eW)(" You'll need to use the "),u,(0,a.eW)(" button in the left sidebar to join it again. ")],512),(0,a.Lk)("div",_,[(0,a.Lk)("button",{class:"close_action click_escape",onClick:s[1]||(s[1]=s=>e.$emit("close"))},(0,l.v_)(m.ready?"Cancel":"Close"),1),f,(0,a.Lk)("button",{class:(0,l.C4)(["leave_class click_ctrlenter",{loading_bg:m.loading}]),onClick:s[2]||(s[2]=(...e)=>b.leave_class&&b.leave_class(...e)),disabled:!m.ready}," Leave ",10,v)])])}var b=t(6471),k=t.n(b),p=t(4186),$={name:"LeaveClass",emits:["close","clear_filters"],mixins:[k()],data(){return{ready:!1,loading:!1,ref:this.$route?.params?.ref,class_obj:{}}},computed:{},mounted(){if(this.$smoothReflow({el:this.$refs.contents,hideOverflow:!0,childTransitions:!0}),this.ref){let[e,s]=this.ref.split("~");if(e+=this.$store.ORG_DOMAIN,this.ref=[e,s].join("/"),2!==this.ref.split("/").length)new p.MY("Couldn't find that class",2e3),this.$emit("close");else{let e=this.$store?.classes;e&&this.ref||(this.class_obj={}),this.class_obj=e.find((e=>e.id===this.ref))||{},this.ready=!0}}else new p.MY("There was no class provided",2e3),this.$emit("close")},methods:{leave_class(){this.loading=!0,this.$store.remove_class(this.class_obj.id).then((()=>{this.$emit("clear_filters"),this.$emit("close")})).catch((()=>{this.loading=!1}))}}},C=t(1241);const L=(0,C.A)($,[["render",m],["__scopeId","data-v-27caa37e"]]);var y=L}}]);
//# sourceMappingURL=582.9de3352f.js.map